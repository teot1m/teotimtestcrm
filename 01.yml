openapi: 3.0.0
info:
  title: KeyCRM OpenAPI documentation
  description: "Опис REST маршрутів для роботи з KeyCRM OpenAPI.<br><br> <b>Зверніть увагу:</b> <br> 1. Є обмеження до 60 запитів на хвилину з однієї IP-адреси по API-ключу; <br> 2. Час у всіх сутностях використовується UTC (GMT+0) - при зчитуванні (GET-запити), при виборі (фільтрації) по часу створення сутності, а також при створенні сутностей (POST)"
  version: 1.2.0
servers:
  - url: https://openapi.keycrm.app/v1
    description: Основний сервер API KeyCRM
tags:
  - name: Pipelines
    description: Робота з воронками.
  - name: Order
    description: Робота із замовленнями та їх асоціаціями.
  - name: Buyer
    description: Робота з покупцями.
  - name: Products
    description: Робота з товарами.
  - name: Offer
    description: Робота з варіантами товарів і залишками.
  - name: Custom Fields
    description: Робота з користувацькими полями.
  - name: Storage
    description: Робота з файловою системою.
paths:
  /order:
    get:
      tags:
        - Order
      summary: Отримання списку замовлень
      description: Даний маршрут повертає список замовлень.
      operationId: getPaginatedListOfOrders
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій, розділені комами. Приклад: <strong>buyer,status,tags</strong> <br/><br/> Допустимі асоціації `buyer`, `products.offer`, `manager`, `tags`, `status`, `marketing`,  `payments`, `shipping.lastHistory`, `shipping.deliveryService`, `expenses`, `custom_fields`"
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: sort
          in: query
          description: "Сортування списку замовлень"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            sort_asc:
              value: id
              summary: "Сортування за зростанням"
            sort_desc:
              value: -id
              summary: "Сортування за зменшенням"
        - name: filter
          in: query
          description: "Фільтрація списку замовлень"
          required: false
          style: deepObject
          explode: true
          schema:
            type: object
          examples:
            filter_by_status:
              value: {status_id: 1}
              summary: Фільтр за статусом
            filter_by_source:
              value: {source_id: 1}
              summary: Фільтр за джерелом
            filter_by_source_order_id:
              value: {source_uuid: abc-123}
              summary: Фільтр ідентифікатору замовлення з джерела
            filter_by_email:
              value: {buyer_email: 'john.doe@example.com'}
              summary: Фільтр за email покупця
            filter_by_date_created:
              value: {created_between: '2020-08-24 00:00:00, 2020-09-22 23:59:59'}
              summary: Фільтр за датою створення
            filter_by_date_updated:
              value: {updated_between: '2020-08-24 00:00:00, 2020-09-22 23:59:59'}
              summary: Фільтр за датою оновлення
            filter_by_payment_status:
              value: {payment_status: 'paid,overpaid'}
              summary: "Фільтр за статусом оплати, допустимі значення: paid, overpaid, part_paid, not_paid"
            filter_by_tracking_status:
              value: {has_tracking_code: true}
              summary: Фільтр за станом трекінгу (доданий чи ні)
            filter_combined:
              value: {
                status_id: 1,
                source_uuid: abc-123,
                source_id: 1,
                buyer_email: 'john.doe@example.com',
                created_between: '2020-08-24,2020-09-22',
                has_tracking_code: true
              }
              summary: "Комбінований приклад"
      responses:
        "200":
          links:
            GetOrderById:
              operationId: getOrderById
              parameters:
                orderId: "$response.body#/data.*.id"
              description: "Значення ключа `id` з масиву можна використовувати для операції `GET /order/{orderId}` як `orderId` параметр."
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/OrderWithIncludes'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
    post:
      tags:
        - Order
      summary: Створення нового замовлення
      description: Даний маршрут створює нове замовлення.
      operationId: createNewOrder
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      requestBody:
        description: Приклад об'єкту запиту для створення нового замовлення
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - source_id
                - buyer
              properties:
                source_id:
                  type: integer
                  description: "Ідентифікатор джерела. Обов'язкове поле"
                  example: 1
                source_uuid:
                  type: string
                  nullable: true
                  description: "Номер замовлення у джерелі"
                  example: 115
                buyer_comment:
                  type: string
                  nullable: true
                  description: "Коментар покупця"
                  example: "I want this sentence to be my `buyer` comment on KeyCRM"
                manager_id:
                  type: integer
                  example: 1
                  nullable: true
                  description: "Ідентифікатор відповідального менеджера"
                manager_comment:
                  type: string
                  nullable: true
                  description: "Коментар менеджера"
                  example: "Handle till weekend"
                promocode:
                  type: string
                  example: "MERRYCHRISTMAS"
                  nullable: true
                  description: "Промо код"
                discount_percent:
                  type: number
                  example: 11.5
                  nullable: true
                  description: "Знижка на замовлення у %"
                discount_amount:
                  type: number
                  example: 9.99
                  nullable: true
                  description: "Знижка на замовлення фіксована"
                shipping_price:
                  description: "Вартість доставки"
                  type: number
                  nullable: true
                  example: 2.50
                wrap_price:
                  description: "Вартість подарункової упаковки"
                  type: number
                  nullable: true
                  example: 3.50
                taxes:
                  description: "Сума податків"
                  type: number
                  nullable: true
                  example: 2.50
                ordered_at:
                  type: string
                  nullable: true
                  description: "Дата і час замовлення. Якщо не передається, буде використаний поточний час"
                  example: "2021-12-21 14:44:00"
                buyer:
                  type: object
                  properties:
                    full_name:
                      type: string
                      nullable: true
                      example: John Doe
                    email:
                      type: string
                      nullable: true
                      example: john.doe@mail.app
                    phone:
                      type: string
                      description: "Телефон рекомендуємо передавати в міжнародному форматі з плюсом"
                      nullable: true
                      example: "+1 555-234-1234"
                shipping:
                  type: object
                  properties:
                    delivery_service_id:
                      type: integer
                      nullable: true
                      example: 1
                      description: "ID служби доставки у KeyCRM"
                    tracking_code:
                      type: string
                      nullable: true
                      example: "530005665555556"
                      description: "Трек-номер відправлення служби доставки"
                    shipping_service:
                      type: string
                      nullable: true
                      example: "Нова Пошта"
                      description: "Назва служби доставки"
                    shipping_address_city:
                      type: string
                      nullable: true
                      example: "Kyiv"
                    shipping_address_country:
                      type: string
                      nullable: true
                      example: "Ukraine"
                    shipping_address_region:
                      type: string
                      nullable: true
                      example: "Kyivska"
                      description: "Область, штат, регіон"
                    shipping_address_zip:
                      type: string
                      nullable: true
                      example: "50000"
                    shipping_secondary_line:
                      type: string
                    shipping_receive_point:
                      type: string
                      nullable: true
                      example: "Склад #12"
                      description: "Точка видачі замовлення"
                    recipient_full_name:
                      type: string
                      nullable: true
                      example: "Ann Doe"
                      description: "Ім'я отримувача (якщо відрізняється від покупця)"
                    recipient_phone:
                      type: string
                      nullable: true
                      example: "+1 555-234-7777"
                      description: "Номер телефону отримувача (якщо відрізняється від покупця). Рекомендуємо передавати в міжнародному форматі з плюсом"
                    warehouse_ref:
                      type: string
                      nullable: true
                      example: "1ec09d2e-e1c2-11e3-8c4a-0050568002cf"
                      description: UUID складу Нової Пошти (обов'язково з параметром delivery_service_id - ID служби доставки НП в СРМ)
                marketing:
                  type: object
                  properties:
                    utm_source:
                      type: string
                      nullable: true
                      example: "facebook"
                      description: "Джерело кампанії"
                    utm_medium:
                      type: string
                      nullable: true
                      example: "banner"
                      description: "Тип трафіку"
                    utm_campaign:
                      type: string
                      nullable: true
                      example: "sale"
                      description: "Назва кампанії"
                    utm_term:
                      type: string
                      nullable: true
                      example: "landing page"
                      description: "Ключове слово"
                    utm_content:
                      type: string
                      nullable: true
                      example: "-30%"
                      description: "Ідентифікатор оголошення"
                products:
                  type: array
                  items:
                    type: object
                    properties:
                      sku:
                        type: string
                        example: "001-242"
                        description: "Артикул товару"
                      price:
                        type: number
                        example: 124.50
                        description: "Ціна товару за одиницю"
                      discount_percent:
                        type: number
                        example: 11.5
                        nullable: true
                        description: "Знижка на товар у %"
                      discount_amount:
                        type: number
                        example: 9.99
                        nullable: true
                        description: "Знижка на товар фіксована"
                      quantity:
                        type: integer
                        example: 1
                        description: "Кількість замовлених одиниць товару"
                      name:
                        type: string
                        example: "Iphone XS max 256gb"
                        description: "Назва товару"
                      comment:
                        type: string
                        example: "Наклеїти плівку"
                        description: "Коментар до товару"
                      picture:
                        type: string
                        nullable: true
                        description: "Посилання на зображеня товару"
                        example: "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
                      properties:
                        required:
                          - name
                          - value
                        type: array
                        description: "Атрибути товару. <br/> Важливо: Кожен атрибут мае включати в себе поля `name` і `value`. <br/> Атрибут без цих ключів буде ігноруватися "
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Color
                            value:
                              type: string
                              example: Gold
                payments:
                  type: array
                  items:
                    type: object
                    required:
                      - amount
                    properties:
                      payment_method_id:
                        type: integer
                        example: 2
                        description: "ID методу платежу в KeyCRM, обов'язковий параметр, якщо `payment_method` не заданий"
                      payment_method:
                        type: string
                        example: "Apple Pay"
                        description: "Назва методу платежу, обов'язковий параметр, якщо `payment_method_id` не заданий"
                      amount:
                        type: number
                        example: 123.50
                        description: "Сума платежу"
                      description:
                        type: string
                        example: "Авансовий платіж"
                        nullable: true
                        description: "Коментар до платежу"
                      payment_date:
                        type: string
                        nullable: true
                        example: "2021-02-21 14:44:00"
                        description: "Дата і час платежу. Якщо не передається, буде використаний поточний час"
                      status:
                        type: string
                        nullable: true
                        example: "not_paid"
                        description: "
                                      Допустимі значення:\n
                                       - paid\n
                                       - not_paid\n
                                       - canceled\n
                                       - refund\n
                                       \n
                                      "
                custom_fields:
                  type: array
                  description: "Користувацькі поля в замовленні"
                  items:
                    type: object
                    properties:
                      uuid:
                        description: "Зовнішній ідентифікатор поля"
                        type: string
                        example: OR_1037
                      value:
                        description: "Значення поля. Для полів з типом `select (список/мультисписок)` передавати масив рядків."
                        type: string
                        example: Лорд
      responses:
        "201":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/import:
    post:
      tags:
        - Order
      summary: Створення нових замовлень списком
      description: "Даний маршрут дозволяє створювати нові замовлення списком, до 50 шт. за один запит."
      operationId: createNewOrderImport
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      requestBody:
        description: "Приклад запиту для створення нових заломлень списком."
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - orders
              properties:
                orders:
                  type: array
                  maximum: 50
                  items:
                    type: object
                    required:
                      - source_id
                      - buyer
                    properties:
                      source_id:
                        type: integer
                        description: "Ідентифікатор джерела. Обов'язкове поле"
                        example: 1
                      source_uuid:
                        type: string
                        nullable: true
                        description: "Номер замовлення у джерелі"
                        example: 115
                      buyer_comment:
                        type: string
                        nullable: true
                        description: "Коментар покупця"
                        example: "I want this sentence to be my `buyer` comment on KeyCRM"
                      manager_comment:
                        type: string
                        nullable: true
                        description: "Коментар менеджера"
                        example: "Handle till weekend"
                      promocode:
                        type: string
                        example: "MERRYCHRISTMAS"
                        nullable: true
                        description: "Промо код"
                      discount_percent:
                        type: number
                        example: 11.5
                        nullable: true
                        description: "Знижка на замовлення у %"
                      discount_amount:
                        type: number
                        example: 9.99
                        nullable: true
                        description: "Знижка на замовлення фіксована"
                      shipping_price:
                        description: "Вартість доставки"
                        type: number
                        nullable: true
                        example: 2.50
                      wrap_price:
                        description: "Вартість подарункової упаковки"
                        type: number
                        nullable: true
                        example: 3.50
                      taxes:
                        description: "Сума податків"
                        type: number
                        nullable: true
                        example: 2.50
                      ordered_at:
                        type: string
                        nullable: true
                        description: "Дата і час замовлення. Якщо не передається, буде використаний поточний час"
                        example: "2021-12-21 14:44:00"
                      buyer:
                        type: object
                        properties:
                          full_name:
                            type: string
                            nullable: true
                            example: John Doe
                          email:
                            type: string
                            nullable: true
                            example: john.doe@mail.app
                          phone:
                            type: string
                            description: "Телефон рекомендуємо передавати в міжнародному форматі з плюсом"
                            nullable: true
                            example: "+1 555-234-1234"
                      shipping:
                        type: object
                        properties:
                          delivery_service_id:
                            type: integer
                            nullable: true
                            example: 1
                            description: "ID служби доставки у KeyCRM"
                          tracking_code:
                            type: string
                            nullable: true
                            example: "530005665555556"
                            description: "Трек-номер відправлення служби доставки"
                          shipping_address_city:
                            type: string
                            nullable: true
                            example: "Kyiv"
                          shipping_address_country:
                            type: string
                            nullable: true
                            example: "Ukraine"
                          shipping_address_region:
                            type: string
                            nullable: true
                            example: "Kyivska"
                            description: "Область, штат, регіон"
                          shipping_address_zip:
                            type: string
                            nullable: true
                            example: "50000"
                          shipping_secondary_line:
                            type: string
                          shipping_receive_point:
                            type: string
                            nullable: true
                            example: "Склад #12"
                            description: "Точка видачі замовлення"
                          recipient_full_name:
                            type: string
                            nullable: true
                            example: "Ann Doe"
                            description: "Ім'я отримувача (якщо відрізняється від покупця)"
                          recipient_phone:
                            type: string
                            nullable: true
                            example: "+1 555-234-7777"
                            description: "Номер телефону отримувача (якщо відрізняється від покупця). Рекомендуємо передавати в міжнародному форматі з плюсом."
                          warehouse_ref:
                            type: string
                            nullable: true
                            example: "1ec09d2e-e1c2-11e3-8c4a-0050568002cf"
                            description: UUID складу Нової Пошти (обов'язково з параметром delivery_service_id - ID служби доставки НП в СРМ)
                      marketing:
                        type: object
                        properties:
                          utm_source:
                            type: string
                            nullable: true
                            example: "facebook"
                            description: "Джерело кампанії"
                          utm_medium:
                            type: string
                            nullable: true
                            example: "banner"
                            description: "Тип трафіку"
                          utm_campaign:
                            type: string
                            nullable: true
                            example: "sale"
                            description: "Назва кампанії"
                          utm_term:
                            type: string
                            nullable: true
                            example: "landing page"
                            description: "Ключове слово"
                          utm_content:
                            type: string
                            nullable: true
                            example: "-30%"
                            description: "Ідентифікатор оголошення"
                      products:
                        type: array
                        description: "Масив з товарами"
                        items:
                          type: object
                          properties:
                            sku:
                              type: string
                              example: "001-242"
                              description: "Артикул товару"
                            price:
                              type: number
                              example: 124.50
                              description: "Ціна товару за одиницю"
                            discount_percent:
                              type: number
                              example: 11.5
                              nullable: true
                              description: "Знижка на товар у %"
                            discount_amount:
                              type: number
                              example: 9.99
                              nullable: true
                              description: "Знижка на товар фіксована"
                            quantity:
                              type: integer
                              example: 1
                              description: "Кількість замовлених одиниць товару"
                            name:
                              type: string
                              example: "Iphone XS max 256gb"
                              description: "Назва товару"
                            comment:
                              type: string
                              example: "Наклеїти плівку"
                              description: "Коментар до товару"
                            picture:
                              type: string
                              nullable: true
                              description: "Посилання на зображеня товару"
                              example: "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
                            properties:
                              required:
                                - name
                                - value
                              type: array
                              description: "Атрибути товару. <br/> Важливо: Кожен атрибут мае включати в себе поля `name` і `value`. <br/> Атрибут без цих ключів буде ігноруватися "
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                    example: Color
                                  value:
                                    type: string
                                    example: Gold
                      payments:
                        type: array
                        description: "Масив з платежами"
                        items:
                          type: object
                          required:
                            - amount
                          properties:
                            payment_method_id:
                              type: integer
                              example: 2
                              description: "ID методу платежу в KeyCRM, обов'язковий параметр, якщо `payment_method` не заданий"
                            payment_method:
                              type: string
                              example: "Apple Pay"
                              description: "Назва методу платежу, обов'язковий параметр, якщо `payment_method_id` не заданий"
                            amount:
                              type: number
                              example: 123.50
                              description: "Сума платежу"
                            description:
                              type: string
                              example: "Авансовий платіж"
                              nullable: true
                              description: "Коментар до платежу"
                            payment_date:
                              type: string
                              nullable: true
                              example: "2021-02-21 14:44:00"
                              description: "Дата і час платежу. Якщо не передається, буде використаний поточний час"
                            status:
                              type: string
                              nullable: true
                              example: "not_paid"
                              description: "
                                            Допустимі значення:\n
                                             - paid\n
                                             - not_paid\n
                                             - canceled\n
                                             - refund\n
                                             \n
                                            "
                      custom_fields:
                        type: array
                        description: "Користувацькі поля в замовленні"
                        items:
                          type: object
                          properties:
                            uuid:
                              description: "Зовнішній ідентифікатор поля"
                              type: string
                              example: OR_1037
                            value:
                              description: "Значення поля. Для полів з типом `select (список/мультисписок)` передавати масив рядків."
                              type: string
                              example: Лорд
      responses:
        "201":
          description: Успішна відповідь від сервера.
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/{orderId}:
    get:
      tags:
        - Order
      summary: Отримання сутності замовлення за ідентифікатором
      operationId: getOrderById
      parameters:
        - name: orderId
          in: path
          description: Ідентифікатор замовлення
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій, розділені комами. Приклад: <strong>buyer,status,tags</strong> <br/><br/> Допустимі асоціації `buyer`, `products.offer`, `manager`, `tags`, `status`, `marketing`,  `payments`, `shipping.lastHistory`, `shipping.deliveryService`, `expenses`, `custom_fields`"
          required: false
          style: form
          explode: true
          schema:
            type: string
      responses:
        "200":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderWithIncludes'
        "401":
          description: Помилка авторизації.
        "404":
          description: Замовлення не знайдено.
      security:
        - bearerAuth: []
    put:
      tags:
        - Order
      summary: Оновлення існуючого замовлення
      parameters:
        - name: orderId
          in: path
          required: true
          description: "Ідентифікатор замовлення"
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      description: "Даний маршрут оновлює існуюче замовлення. Зверніть увагу, що можна тільки оновити уже доданий в замовлення товар, а не додати новий. Також, якщо в замовленні вже є трекінг-код, то при повторному додаванні буде помилка."
      operationId: updateExistingOrder
      requestBody:
        description: Приклад об'єкту запиту для оновлення існуючого замовлення
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                buyer_comment:
                  type: string
                  nullable: true
                  description: "Коментар покупця"
                  example: "I want this sentence to be my `buyer` comment on KeyCRM"
                manager_comment:
                  type: string
                  nullable: true
                  description: "Коментар менеджера"
                  example: "Handle till weekend"
                status_id:
                  type: integer
                  example: 1
                  description: Ідентифікатор статусу замовлення
                products:
                  type: array
                  description: "Масив товарів. Нові товари в замовлення не додаються, тільки оновлюються існуючі"
                  items:
                    type: object
                    properties:
                      sku:
                        type: string
                        example: "001-242"
                        description: "Артикул товару. Не оновлюється, використовується лише для ідентифікації товару"
                      id:
                        type: integer
                        example: 124
                        description: "Ідентифікатор товару в замовленні. Не оновлюється, використовується лише для ідентифікації товару"
                      name:
                        type: string
                        example: "Iphone XS max 256gb"
                        description: "Назва товару. Оновлюється лише для «разових» товарів (ті, що існують в рамках конкретного замовлення, але в каталозі їх немає)"
                      comment:
                        type: string
                        example: "Наклеїти плівку"
                        description: "Коментар до товару. Оновлюється завжди, замінюючи попередній"
                shipping:
                  type: object
                  properties:
                    delivery_service_id:
                      type: integer
                      nullable: true
                      example: 1
                      description: "ID служби доставки у KeyCRM"
                    tracking_code:
                      type: string
                      nullable: true
                      example: "530005665555556"
                      description: "Трек-номер відправлення служби доставки"
                    shipping_address_city:
                      type: string
                      nullable: true
                      example: "Kyiv"
                    shipping_address_country:
                      type: string
                      nullable: true
                      example: "Ukraine"
                    shipping_address_region:
                      type: string
                      nullable: true
                      example: "Kyivska"
                      description: "Область, штат, регіон"
                    shipping_address_zip:
                      type: string
                      nullable: true
                      example: "50000"
                    shipping_receive_point:
                      type: string
                      nullable: true
                      example: "Склад #12"
                      description: "Точка видачі замовлення"
                    shipping_secondary_line:
                      type: string
                      nullable: true
                    recipient_full_name:
                      type: string
                      nullable: true
                      example: "Ann Doe"
                      description: "Ім'я отримувача (якщо відрізняється від покупця)"
                    recipient_phone:
                      type: string
                      nullable: true
                      example: "+1 555-234-7777"
                      description: "Номер телефону отримувача (якщо відрізняється від покупця)"
                    warehouse_ref:
                      type: string
                      nullable: true
                      example: "1ec09d2e-e1c2-11e3-8c4a-0050568002cf"
                      description: UUID складу Нової Пошти (обов'язково з параметром delivery_service_id - ID служби доставки НП в СРМ)
                custom_fields:
                  type: array
                  description: "Користувацькі поля в замовленні"
                  items:
                    type: object
                    properties:
                      uuid:
                        description: "Зовнішній ідентифікатор поля"
                        type: string
                        example: OR_1037
                      value:
                        description: "Значення поля. Для полів з типом `select (список/мультисписок)` передавати масив рядків."
                        type: string
                        example: Лорд
      responses:
        "202":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/{orderId}/payment:
    post:
      tags:
        - Order
      summary: Додавання нової оплати для існуючого замовлення
      description: Даний маршрут створює нову оплату для замовлення.
      parameters:
        - name: orderId
          in: path
          description: "Ідентифікатор замовлення"
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      operationId: createNewOrderPayment
      requestBody:
        description: Приклад об'єкту запиту для створення нової оплати
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - amount
              properties:
                payment_method_id:
                  type: integer
                  example: 2
                  description: "ID методу платежу в KeyCRM, обов'язковий параметр, якщо `payment_method` не заданий"
                payment_method:
                  type: string
                  example: "Apple Pay"
                  description: "Назва методу платежу, обов'язковий параметр, якщо `payment_method_id` не заданий"
                amount:
                  type: number
                  example: 123.50
                  description: "Сума платежу"
                status:
                  type: string
                  default: "paid"
                  enum: [paid, refund, not_paid, canceled]
                  example: "paid"
                  nullable: true
                  description: "Статус оплати"
                description:
                  type: string
                  example: "Авансовий платіж"
                  nullable: true
                  description: "Коментар до платежу"
                payment_date:
                  type: string
                  nullable: true
                  example: "2021-02-21 14:44:00"
                  description: "Дата і час платежу. Якщо не передається, буде використаний поточний час"
      responses:
        "201":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/{orderId}/expense:
    post:
      tags:
        - Order
      summary: Додавання нової витрати для існуючого замовлення
      description: Даний маршрут створює нову витрату для замовлення.
      parameters:
        - name: orderId
          in: path
          description: "Ідентифікатор замовлення"
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      operationId: createNewOrderExpense
      requestBody:
        description: Приклад об'єкту запиту для створення нової витрати
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - amount
              properties:
                expense_type_id:
                  type: integer
                  example: 2
                  description: "ID типу витрати в KeyCRM, обов'язковий параметр, якщо `expense_type` не заданий"
                expense_type:
                  type: string
                  example: "Пакування"
                  description: "Назва типу витрати, обов'язковий параметр, якщо `expense_type_id` не заданий"
                amount:
                  type: number
                  example: 123.50
                  description: "Сума витрати"
                description:
                  type: string
                  example: "Комісія за пакування"
                  nullable: true
                  description: "Коментар до витрати"
                payment_date:
                  type: string
                  nullable: true
                  example: "2021-02-21 14:44:00"
                  description: "Дата і час витрати. Якщо не передається, буде використаний поточний час"
      responses:
        "201":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Expense'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/{orderId}/payment/{paymentId}:
    put:
      tags:
        - Order
      summary: Оновлення оплати для існуючого замовлення
      description: Даний маршрут оновлює оплату існуючого замовлення.
      operationId: updateExistingOrderPayment
      parameters:
        - name: orderId
          in: path
          description: "Ідентифікатор замовлення"
          required: true
          schema:
            type: string
        - name: paymentId
          in: path
          description: "Ідентифікатор оплати"
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      requestBody:
        description: Приклад об'єкту запиту для оновлення оплати
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [paid, refund, not_paid, canceled]
                  example: "paid"
                  nullable: true
                  description: "Статус оплати"
                description:
                  type: string
                  example: "Авансовий платіж"
                  nullable: true
                  description: "Коментар до платежу"
      responses:
        "202":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/{orderId}/expense/{expenseId}:
    put:
      tags:
        - Order
      summary: Оновлення витрати для існуючого замовлення
      description: Даний маршрут оновлює витрату існуючого замовлення.
      operationId: updateExistingOrderExpense
      parameters:
        - name: orderId
          in: path
          description: "Ідентифікатор замовлення"
          required: true
          schema:
            type: string
        - name: expenseId
          in: path
          description: "Ідентифікатор витрати"
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      requestBody:
        description: Приклад об'єкту запиту для оновлення витрати
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [canceled]
                  example: "canceled"
                  nullable: true
                  description: "Статус витрати"
                description:
                  type: string
                  example: "Повернення завдатку"
                  nullable: true
                  description: "Коментар до витрати"
      responses:
        "202":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Expense'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/{orderId}/tag/{tagId}:
    post:
      tags:
        - Order
      summary: Додавання тегу для існуючого замовлення
      description: Даний маршрут додає тег до існуючого замовлення.
      operationId: attachTagToOrder
      parameters:
        - name: orderId
          in: path
          description: "Ідентифікатор замовлення"
          required: true
          schema:
            type: string
        - name: tagId
          in: path
          description: "Ідентифікатор тегу"
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      responses:
        "202":
          description: Успішна відповідь
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
    delete:
      tags:
        - Order
      summary: Видалення тегу з існуючого замовлення
      description: Даний маршрут видаляє тег із існуючого замовлення.
      operationId: deleteTagFromOrder
      parameters:
        - name: orderId
          in: path
          description: "Ідентифікатор замовлення"
          required: true
          schema:
            type: string
        - name: tagId
          in: path
          description: "Ідентифікатор тегу"
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      responses:
        "204":
          description: Успішна відповідь
        "400":
          description: Помилка запиту.
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/{orderId}/attachment/{fileId}:
    post:
      tags:
        - Order
      summary: Додавання файлу для існуючого замовлення
      description: Даний маршрут додає файл до існуючого замовлення.
      operationId: attachFileToOrder
      parameters:
        - name: orderId
          in: path
          description: "Ідентифікатор замовлення"
          required: true
          schema:
            type: string
        - name: fileId
          in: path
          description: "Ідентифікатор файлу"
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      responses:
        "202":
          description: Успішна відповідь
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
    delete:
      tags:
        - Order
      summary: Видалення файлу із існуючого замовлення
      description: Даний маршрут видаляє файл із існуючого замовлення.
      operationId: deleteFileFromOrder
      parameters:
        - name: orderId
          in: path
          description: "Ідентифікатор замовлення"
          required: true
          schema:
            type: string
        - name: fileId
          in: path
          description: "Ідентифікатор файлу"
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      responses:
        "201":
          description: Успішна відповідь
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
        "400":
          description: Помилка запиту.
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/tag:
    get:
      tags:
        - Order
      summary: Отримання списку тегів
      description: Даний маршрут повертає список створених тегів.
      operationId: getPaginatedListOfTags
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: sort
          in: query
          description: "Сортування списку замовлень"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            "Сортування за зростанням":
              value: id
            "Сортування за зменшенням":
              value: -id
      responses:
        "200":
          description: Успішна відповідь. Результат в пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Tag'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/source:
    get:
      tags:
        - Order
      summary: Отримання списку джерел
      description: Даний маршрут повертає список створених джерел замовлень.
      operationId: getPaginatedListOfSources
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: sort
          in: query
          description: "Сортування списку замовлень"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            "Сортування за зростанням":
              value: id
            "Сортування за зменшенням":
              value: -id
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Tag'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/status:
    get:
      tags:
        - Order
      summary: Отримання списку статусів
      description: Даний маршрут повертає список активних статусів замовлень.
      operationId: getPaginatedListOfStatuses
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: sort
          in: query
          description: "Сортування списку статусів"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            "Сортування за зростанням":
              value: id
            "Сортування за зменшенням":
              value: -id
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Status'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/payment-method:
    get:
      tags:
        - Order
      summary: Отримання списку платіжних методів
      description: Даний маршрут повертає список платіжних методів.
      operationId: getPaginatedListOfPaymentMethods
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: sort
          in: query
          description: "Сортування списку методів"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            "Сортування за зростанням":
              value: id
            "Сортування за зменшенням":
              value: -id
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/PaymentMethod'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/expense-type:
    get:
      tags:
        - Order
      summary: Отримання списку типів витрат
      description: Даний маршрут повертає список типів витрат.
      operationId: getPaginatedListOfExpenseTypes
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: sort
          in: query
          description: "Сортування списку типів витрат"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            "Сортування за зростанням":
              value: id
            "Сортування за зменшенням":
              value: -id
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/ExpenseType'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /order/delivery-service:
    get:
      tags:
        - Order
      summary: Отримання списку доступних методів доставки
      description: Даний маршрут повертає список доступних методів доставки.
      operationId: getPaginatedListOfDeliveryServices
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: sort
          in: query
          description: "Сортування списку методів"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            "Сортування за зростанням":
              value: id
            "Сортування за зменшенням":
              value: -id
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/DeliveryService'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /storage:
    get:
      tags:
        - Storage
      summary: Отримання списку завантажених файлів
      description: Даний маршрут повертає список файлів.
      operationId: getPaginatedListOfFiles
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: sort
          in: query
          description: "Сортування списку файлів"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            "Сортування за зростанням":
              value: size
            "Сортування за зменшенням":
              value: -size
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/File'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /storage/attachment/{entityType}/{entityId}:
    get:
      tags:
        - Storage
      summary: "Отримання списку файлів по сутності"
      description: "Даний маршрут повертає список файлів по сутності."
      operationId: getEntityListOfFiles
      parameters:
        - name: entityType
          in: path
          description: "Тип сутності, по якій потрібно отримати файли. Можливі значення: `order` (замовлення) або `pipelines` (картка у воронках)."
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: entityId
          in: path
          description: Ідентифікатор сутності в системі 
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: Успішна відповідь.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/File'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: []
  /storage/upload:
    post:
      tags:
        - Storage
      summary: Завантаження файла
      description: Даний маршрут завантажує файл на сервер і створює новий запис у файловій системі.
      operationId: uploadStorageFile
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - file
              properties:
                file:
                  description: Обраний файл для завантаження
                  type: string
                  format: binary
      responses:
        "200":
          description: Файл, що завантажується, вже існує.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/File'
        "201":
          description: Файл успішно завантажений.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/File'
        "401":
          description: Помилка авторизації.
        "413":
          description: Розмір файлу, що завантажується, перевищує допустимий розмір (10MB)
      security:
        - bearerAuth: []
  /custom-fields:
    get:
      tags:
        - Custom Fields
      summary: Отримання списку користувацьких полів
      description: "Даний маршрут дозволяє отримати список всіх користувацьких полів. Якщо потрібно отримати опції списочних полів, то вкажіть параметр `include=options`."
      operationId: getListOfCustomFields
      parameters:
        - $ref: '#/components/parameters/acceptParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій<br/><br/> Допустимі асоціації: `options`(опції списочних полів)"
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: sort
          in: query
          description: "Сортування списку користувацьких полів"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            sort_asc:
              value: position
              summary: "Сортування за зростанням"
            sort_desc:
              value: -position
              summary: "Сортування за зменшенням"
        - name: filter
          in: query
          description: "Фільтрація списку користувацьких полів"
          required: false
          style: deepObject
          explode: true
          schema:
            type: object
          examples:
            filter_by_model:
              value: { model: 'lead,order,client,crm_product' }
              summary: Фільтр за сутностями
      responses:
        "200":
          description: "Успішна відповідь для запиту з параметром `include=options`"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CustomField'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
  /offers:
    get:
      tags:
        - Offer
      summary: Отримання варіантів товарів
      description: "Даний маршрут дозволяє отримати список варіантів товарів. Якщо потрібно отримати інформацію про товар, якому належить варіант, то вкажіть параметр `include=product`."
      operationId: getPaginatedListOfOffers
      parameters:
        - $ref: '#/components/parameters/acceptParam'
        #        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: include
          in: query
          description: "
                  Підключення додаткових асоціацій<br/><br/>
                  Допустимі асоціації `product`
                "
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: sort
          in: query
          description: "Сортування списку вариантів товарів"
          required: false
          style: form
          explode: true
          schema:
            type: string
          examples:
            sort_asc:
              value: id
              summary: "Сортування за зростанням"
            sort_desc:
              value: -id
              summary: "Сортування за зменшенням"
        - name: filter
          in: query
          description: "Фільтрація списку вариантів товарів"
          required: false
          style: deepObject
          explode: true
          schema:
            type: object
          examples:
            filter_by_id:
              value: { id: '1,2' }
              summary: Фільтр за ідентифікатором варіанту товару
            filter_by_product_id:
              value: { product_id: '1,2' }
              summary: Фільтр за ідентифікатором товару в каталозі KeyCRM
            filter_by_sku:
              value: { sku: 'sku1,sku2' }
              summary: Фільтр по артикулу
      responses:
        "200":
          description: "Успішна відповідь для запиту з параметром `include=product`. Результат у пагінованому вигляді."
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Offer'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
    put:
      tags:
        - Offer
      summary: Редагування варіантів товару
      description: Даний маршрут дозволяє змінити параметри вартості, закупівельної вартості, ваги і габаритів варіанту товару.
      operationId: offersUpdate
      requestBody:
        description: Приклад об'єкту запиту для зміни варіантів. Для кожного з товарів у масиві обов'язково має бути вказано один з параметрів, id або sku.
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - offers
              properties:
                offers:
                  type: array
                  maximum: 10000
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                        description: "ID варіанту товару у KeyCRM"
                      sku:
                        type: string
                        example: "001-242"
                        description: "Артикул варіанту товару"
                      price:
                        type: number
                        example: 11.99
                        description: "Вартість варіанту товару"
                      purchased_price:
                        type: number
                        example: 9.99
                        description: "Закупівельна вартість варіанту товару"
                      weight:
                        type: number
                        example: 0.2
                        description: "Вага варіанту товару в одиницях налаштувань у KeyCRM"
                      height:
                        type: number
                        example: 10.0
                        description: "Висота варіанту товару в одиницях налаштувань у KeyCRM"
                      length:
                        type: number
                        example: 15.0
                        description: "Довжина варіанту товару в одиницях налаштувань у KeyCRM"
                      width:
                        type: number
                        example: 5.0
                        description: "Ширина варіанту товару в одиницях налаштувань у KeyCRM"
      responses:
        "202":
          description: Успішна відповідь
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
        "401":
          description: Помилка авторизації.
        "422":
          description: Помилка валідації.
      security:
        - bearerAuth: []
  /offers/stocks:
    get:
      tags:
        - Offer
      summary: Отримання списку залишків
      description: Даний маршрут повертає список залишків.
      operationId: getPaginatedListOfStocks
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: filter
          in: query
          description: "Фільтрація списку залишків"
          required: false
          style: deepObject
          explode: true
          schema:
            type: object
          examples:
            filter_by_offers_id:
              value: { offers_id: '4545,4546' }
              summary: "Фільтр за ідентифікатором варіанту товару, допустимі значення: 1, 10, 4546, ..."
            filter_by_offers_sku:
              value: { offers_sku: 'sku001,sku002' }
              summary: "Фільтр за sku варіанту товару, допустимі значення: sku001, sku002, ..."
            filter_by_details:
              value: { details: true }
              summary: Отримувати залишки по кожному складу окремо
            filter_combined:
              value: {
                offers_id: 1,
                offers_sku: 'sku001',
                details: true
              }
              summary: "Комбінований приклад"
      responses:
        "200":
          description: "Успішна відповідь для запиту з параметром `filter[details]=true`. Результат у пагінованому вигляді."
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/OfferStocks'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
    put:
      tags:
        - Offer
      summary: Оновлення залишків товару на складі
      description: Створює запис руху товарів для приведення залишків на складі до потрібної кількості.
      operationId: offersStocksUpdate
      requestBody:
        description: Приклад об'єкту запиту для зміни залишків на складі. Для кожного із товарів у масиві обов'язково має бути вказаний один із параметрів, offer_id або sku
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - warehouse_id
                - stocks
              properties:
                warehouse_id:
                  type: integer
                  description: "Ідентифікатор складу. Обов'язкове поле"
                  example: 1
                stocks:
                  type: array
                  maximum: 10000
                  items:
                    type: object
                    required:
                      - quantity
                    properties:
                      id:
                        type: integer
                        example: 1
                        description: "ID варіанту товару у KeyCRM"
                      sku:
                        type: string
                        example: "001-242"
                        description: "Артикул товару"
                      quantity:
                        type: integer
                        example: 1
                        description: "Кількість одиниць на складі"
      responses:
        "202":
          description: Успішна відповідь
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
        "401":
          description: Помилка авторизації.
        "422":
          description: Помилка валідації.
      security:
        - bearerAuth: []
  /pipelines:
    get:
      tags:
        - Pipelines
      summary: Отримання списку воронок
      description: Даний маршрут повертає список воронок.
      operationId: getPaginatedListOfPipelines
      parameters:
        - $ref: '#/components/parameters/acceptParam'
        #        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Pipeline'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
  /pipelines/{pipelineId}/statuses:
    get:
      tags:
        - Pipelines
      summary: Отримання статусів воронки
      description: Даний маршрут повертає список статусів воронки.
      operationId: getPaginatedListOfPipelinesStatuses
      parameters:
        - name: pipelineId
          in: path
          description: Ідентифікатор воронки
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
        #        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/PipelineStatuses'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
  /pipelines/cards:
    get:
      tags:
        - Pipelines
      summary: Отримання списку карток воронок
      description: Даний маршрут повертає список карток воронок.
      operationId: getPaginatedListOfPipelinesCards
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій, розділені комами. Приклад: <strong>contact,products,manager</strong> <br/><br/> Допустимі асоціації `contact.client`, `products`, `manager`, `status`, `payments`,  `custom_fields`"
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: filter
          in: query
          description: "Фільтрація списку карток воронок"
          required: false
          style: deepObject
          explode: true
          schema:
            type: object
          examples:
            filter_by_pipeline:
              value: { status_id: 1 }
              summary: Фільтр по воронках
            filter_by_status:
              value: { status_id: 1 }
              summary: Фільтр за статусом
            filter_by_source:
              value: { source_id: 1 }
              summary: Фільтр за джерелом
            filter_by_date_created:
              value: { created_between: '2020-08-24 00:00:00, 2020-09-22 23:59:59' }
              summary: Фільтр за датою створення
            filter_by_date_updated:
              value: { updated_between: '2020-08-24 00:00:00, 2020-09-22 23:59:59' }
              summary: Фільтр за датою оновлення
      responses:
        "200":
          description: Успішна відповідь. Результат у пагінованому вигляді.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/PipelineCardWithIncludes'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
    post:
      tags:
        - Pipelines
      summary: Створення нової картки у воронці
      description: Даний маршрут створює нову картку у воронці.
      operationId: createNewPipelineCard
      requestBody:
        description: Приклад об'єкту запиту для створення нової картки у воронці
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - contact
              properties:
                title:
                  description: "Назва картки. При відсутності параметра буде використано ID створеної картки"
                  type: string
                  nullable: true
                  example: №11011
                source_id:
                  type: integer
                  nullable: true
                  description: Ідентифікатор джерела.
                  example: 1
                manager_comment:
                  type: string
                  nullable: true
                  description: Коментар менеджера
                  example: Handle till weekend
                manager_id:
                  type: integer
                  example: 1
                  nullable: true
                  description: Ідентифікатор відповідального менеджера
                pipeline_id:
                  type: integer
                  example: 1
                  nullable: true
                  description: Ідентифікатор воронки (при відсутності параметра буде використана перша воронка у списку)
                contact:
                  type: object
                  properties:
                    full_name:
                      type: string
                      nullable: true
                      example: John Doe
                    email:
                      type: string
                      nullable: true
                      example: john.doe@mail.app
                    phone:
                      type: string
                      description: "Телефон рекомендуємо передавати в міжнародному форматі з плюсом"
                      nullable: true
                      example: "+1 555-234-1234"
                    client_id:
                      description: "Ідентифікатор існуючого покупця. Якщо він є в системі, то картка буде створена на нього. Решта параметрів буде проігнорована."
                      type: integer
                      example: 1
                      nullable: true
                utm_source:
                  type: string
                  nullable: true
                  example: facebook
                  description: Джерело кампанії
                utm_medium:
                  type: string
                  nullable: true
                  example: banner
                  description: Тип трафіку
                utm_campaign:
                  type: string
                  nullable: true
                  example: sale
                  description: Назва кампанії
                utm_term:
                  type: string
                  nullable: true
                  example: landing page
                  description: Ключове слово
                utm_content:
                  type: string
                  nullable: true
                  example: -30%
                  description: Ідентифікатор оголошення
                products:
                  type: array
                  items:
                    type: object
                    properties:
                      sku:
                        type: string
                        example: "001-242"
                        description: "Артикул товару"
                      price:
                        type: number
                        example: 124.50
                        description: "Ціна товару за одиницю"
                      quantity:
                        type: integer
                        example: 1
                        description: "Кількість замовлених одиниць товару"
                      name:
                        type: string
                        example: "Iphone XS max 256gb"
                        description: "Назва товару"
                      picture:
                        type: string
                        nullable: true
                        description: "Посилання на зображеня товару"
                        example: "https://site.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
                custom_fields:
                  type: array
                  description: "Користувацькі поля у картці воронки"
                  items:
                    type: object
                    properties:
                      uuid:
                        description: "Зовнішній ідентифікатор поля"
                        type: string
                        example: LD_1021
                      value:
                        description: "Значення поля. Для полів з типом `select (список/мультисписок)` передавати масив рядків."
                        type: string
                        example: Лорд
      responses:
        "201":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PipelineCard'
        "401":
          description: Помилка авторизації.
        "403":
          description: Помилкові аргументи або воронки не активовані.
      security:
        - bearerAuth: [ ]
  /pipelines/cards/{cardId}:
    get:
      tags:
        - Pipelines
      summary: Отримання картки воронки
      description: Даний маршрут повертає картку воронки.
      operationId: getPipelinesCard
      parameters:
        - name: cardId
          in: path
          description: Ідентифікатор картки у воронці
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій, розділені комами. Приклад: <strong>contact,products,manager</strong> <br/><br/> Допустимі асоціації `contact.client`, `products`, `manager`, `status`, `payments`,  `custom_fields`"
          required: false
          style: form
          explode: true
          schema:
            type: string
      responses:
        "200":
          description: Успішна відповідь.
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/PipelineCardWithIncludes'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
    put:
      tags:
        - Pipelines
      summary: Оновлення картки воронки
      description: Даний маршрут оновлює картку воронки.
      operationId: updatePipelinesCard
      parameters:
        - name: cardId
          in: path
          description: Ідентифікатор картки у воронці
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      requestBody:
        description: "Приклад об'єкту запиту для оновлення картки воронки"
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  description: Назва картки
                  type: string
                  nullable: true
                  example: №11011
                note:
                  description: Примітка до картки
                  type: string
                  nullable: true
                  example: "Примітка"
                status_id:
                  type: integer
                  example: 1
                  description: "Ідентифікатор статусу картки. Щоб змінити воронку картки, достатньо просто передати статус з потрібної воронки"
                source_id:
                  type: integer
                  example: 11
                  nullable: true
                  description: Ідентифікатор джерела
                client_id:
                  type: integer
                  nullable: true
                  example: 1
                  description: "Ідентифікатор існуючого в системі покупця. Якщо передати, то картка буде зв'язана з цим покупцем"
                products:
                  description: "Масив товарів для додавання в картку. Існуючі товари в картці не оновлюються, завжди додаються нові"
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        example: "Iphone XS max 256gb"
                        description: "Назва товару"
                      sku:
                        type: string
                        example: "001-242"
                        description: "Артикул товару"
                      price:
                        type: number
                        example: 124.50
                        description: "Ціна товару за одиницю"
                      quantity:
                        type: integer
                        example: 1
                        description: "Кількість замовлених одиниць товару"
                      picture:
                        type: string
                        nullable: true
                        description: "Посилання на зображеня товару"
                        example: "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
                custom_fields:
                  type: array
                  description: "Користувацькі поля у картці воронки"
                  items:
                    type: object
                    properties:
                      uuid:
                        description: "Зовнішній ідентифікатор поля"
                        type: string
                        example: LD_1021
                      value:
                        description: "Значення поля. Для полів з типом `select (список/мультисписок)` передавати масив рядків."
                        type: string
                        example: Лорд
      responses:
        "202":
          description: Успішна відповідь
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
  /buyer/{buyerId}:
    get:
      tags:
        - Buyer
      summary: Отримання сутності покупця за ідентифікатором
      operationId: getBuyerById
      parameters:
        - name: buyerId
          in: path
          description: Ідентифікатор покупця
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій, розділені комами. Приклад: <strong>manager,company</strong> <br/><br/> Допустимі асоціації `manager`, `shipping`, `company`, `custom_fields`"
          required: false
          style: form
          explode: true
          schema:
            type: string
      responses:
        "200":
          description: "Успішна відповідь для запиту з усіма доступними значеннями параметра `include`."
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BuyerWithIncludes'
        "401":
          description: Помилка авторизації.
        "404":
          description: Покупця не знайдено.
      security:
        - bearerAuth: [ ]
  /buyer:
    get:
      tags:
        - Buyer
      summary: Отримання списку покупців
      description: Даний маршрут повертає список покупців.
      operationId: getPaginatedListOfBuyers
      parameters:
        - $ref: '#/components/parameters/acceptParam'
        #        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій, розділені комами. Приклад: <strong>manager,company</strong> <br/><br/> Допустимі асоціації `manager`, `shipping`, `company`, `custom_fields`"
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: filter
          in: query
          description: "Фільтрація списку покупців"
          required: false
          style: deepObject
          explode: true
          schema:
            type: object
          examples:
            filter_by_buyer_id:
              value: { buyer_id: '4545,4546' }
              summary: "Фільтр за ідентифікатором покупця, допустимі значення: 1, 10, 4546, ..."
            filter_by_buyer_phone:
              value: { buyer_phone: '+1 555-234-1234,+1 555-234-1234' }
              summary: "Фільтр за телефоном покупця."
            filter_by_buyer_email:
              value: { buyer_email: 'john.doe@example.com,john.doe@example.com' }
              summary: "Фільтр за email покупця"
            filter_by_date_created:
              value: { created_between: '2020-08-24 00:00:00, 2020-09-22 23:59:59' }
              summary: "Фільтр за датою створення"
            filter_by_date_updated:
              value: { updated_between: '2020-08-24 00:00:00, 2020-09-22 23:59:59' }
              summary: "Фільтр за датою оновлення"
      responses:
        "200":
          description: "Успішна відповідь для запиту з усіма доступними значеннями параметра `include`. Результат у пагінованому вигляді."
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/BuyerWithIncludes'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
    post:
      tags:
        - Buyer
      summary: Створення нового покупця
      description: Даний маршрут створює нового покупця.
      operationId: createNewBuyer
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      requestBody:
        description: Приклад об'єкту запиту для створення нового покупця
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - full_name
              properties:
                full_name:
                  description: "Повне ім'я покупця"
                  type: string
                  nullable: false
                  example: "John Doe"
                email:
                  description: "Перелік e-mail покупця"
                  type: array
                  nullable: true
                  items:
                    type: string
                  example: [
                    "john.doe@mail.app",
                    "john.doe2@mail.app"
                  ]
                phone:
                  description: "Перелік телефонів покупця. Телефони рекомендуємо передавати в міжнародному форматі з плюсом"
                  type: array
                  nullable: true
                  items:
                    type: string
                  example: [
                    "+1 555-234-1234",
                    "+1 555-234-7777"
                  ]
                note:
                  description: "Примітка до покупця"
                  type: string
                  nullable: true
                  example: "Примітка"
                company_id:
                  description: "ID компанії зв'язаної с покупцем"
                  type: integer
                  nullable: true
                  example: 112
                manager_id:
                  description: "ID менеджера зв'язаного с покупцем"
                  type: integer
                  nullable: true
                  example: 12
                shipping:
                  type: array
                  items:
                    type: object
                    properties:
                      address:
                        type: string
                        nullable: true
                        description: "Адреса доставки"
                      additional_address:
                        type: string
                      city:
                        description: "Місто доставки"
                        type: string
                        nullable: true
                        example: "Kyiv"
                      region:
                        type: string
                        nullable: true
                        example: "Kyivska"
                        description: "Область, штат, регіон"
                      zip_code:
                        type: string
                        nullable: true
                        example: "50000"
                        description: "Індекс"
                      country:
                        type: string
                        nullable: true
                        example: "Ukraine"
                        description: "Країна доставки"
                      recipient_full_name:
                        type: string
                        nullable: true
                        example: "Ann Doe"
                        description: "Ім'я отримувача (якщо відрізняється від покупця)"
                      recipient_phone:
                        type: string
                        nullable: true
                        example: "+1 555-234-7777"
                        description: "Номер телефону отримувача (якщо відрізняється від покупця). Рекомендуємо передавати в міжнародному форматі з плюсом"
                      warehouse_ref:
                        type: string
                        nullable: true
                        example: "1ec09d2e-e1c2-11e3-8c4a-0050568002cf"
                        description: UUID складу Нової Пошти (обов'язково з параметром delivery_service_id - ID служби доставки НП в СРМ)
                custom_fields:
                  type: array
                  description: "Користувацькі поля для покупця"
                  items:
                    type: object
                    properties:
                      uuid:
                        description: "Зовнішній ідентифікатор поля"
                        type: string
                        example: LD_1021
                      value:
                        description: "Значення поля. Для полів з типом `select (список/мультисписок)` передавати масив рядків."
                        type: string
                        example: Лорд
      responses:
        "201":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Buyer'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
  /products:
    get:
      tags:
        - Products
      summary: Отримання списку товарів
      description: "Даний маршрут повертає пагінований список товарів."
      operationId: getPaginatedListOfProducts
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій, розділені комами. Приклад: <strong>custom_fields</strong> <br/><br/> Допустимі асоціації `custom_fields`"
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: filter
          in: query
          description: "Фільтрація списку товарів"
          required: false
          style: deepObject
          explode: true
          schema:
            type: object
          examples:
            filter_by_product_id:
              value: { product_id: '4545,4546' }
              summary: "Фільтр за ідентифікатором товара, допустимі значення: 1, 10, 4546, ..."
      responses:
        "200":
          description: "Успішна відповідь для запиту з усіма доступними значеннями параметра `include`. Результат у пагінованому вигляді."
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/ProductWithIncludes'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
    post:
      tags:
        - Products
      summary: Створення нового товару
      description: "Даний маршрут створює новий товар без варіантів (наборів властивостей). При створенні можна задавати значення для існуючих користувацьких полів у товарах."
      operationId: createNewProduct
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      requestBody:
        description: Приклад об'єкту запиту для створення нового товару
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  description: Назва товару
                  example: "Iphone XS max 256gb"
                description:
                  type: string
                  description: Опис товару
                  example: "Ущільнена тканина, дві ручки, основне відділення та золотиста фурнітура."
                pictures:
                  description: Зображення товару
                  type: array
                  items:
                    type: string
                  example: [
                    "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
                  ]
                currency_code:
                  type: string
                  description: Валюта товару
                  example: "UAH"
                sku:
                  type: string
                  description: Артикул товару
                  example: "001-242"
                barcode:
                  description: Штрих-код товару
                  type: string
                  example: '11222111211'
                price:
                  type: number
                  example: 124.50
                  description: "Ціна товару за одиницю"
                purchased_price:
                  type: number
                  example: 124.50
                  description: "Ціна закупівлі товару за одиницю"
                weight:
                  type: number
                  example: 12.5
                  description: Вага товару за замовчуванням
                length:
                  type: number
                  example: 25.0
                  description: Довжина товару за замовчуванням
                width:
                  type: number
                  example: 10.0
                  description: Ширина товару за замовчуванням
                height:
                  type: number
                  example: 7.5
                  description: Висота товару за замовчуванням в системних одиницях
                category_id:
                  type: number
                  example: 1
                  description: ID категорії товару
                custom_fields:
                  type: array
                  description: "Користувацькі поля в товарі"
                  items:
                    type: object
                    properties:
                      uuid:
                        description: "Зовнішній ідентифікатор поля"
                        type: string
                        example: CT_1108
                      value:
                        description: "Значення поля. Для полів з типом `select (список/мультисписок)` передавати масив рядків."
                        type: string
                        example: Лорд
      responses:
        "201":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
  /products/{productId}:
    get:
      tags:
        - Products
      summary: Отримання сутності товару за ідентифікатором
      operationId: getProductById
      parameters:
        - name: productId
          in: path
          description: Ідентифікатор продукту
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - name: include
          in: query
          description: "Підключення додаткових асоціацій, розділені комами. Приклад: <strong>custom_fields</strong> <br/><br/> Допустимі асоціації `custom_fields`"
          required: false
          style: form
          explode: true
          schema:
            type: string
      responses:
        "200":
          description: "Успішна відповідь для запиту з усіма доступними значеннями параметра `include`."
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductWithIncludes'
        "401":
          description: Помилка авторизації.
        "404":
          description: Товар не знайдено.
      security:
        - bearerAuth: [ ]
  /products/categories:
    get:
      tags:
        - Products
      summary: Отримання списку категорій товарів
      description: Даний маршрут повертає пагінований список категорій товарів.
      operationId: getPaginatedListOfCategories
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/pageParam'
        - name: filter
          in: query
          description: "Фільтрація списку категорій товарів"
          required: false
          style: deepObject
          explode: true
          schema:
            type: object
          examples:
            filter_by_category_id:
              value: { category_id: '4545,4546' }
              summary: "Фільтр за ідентифікатором категорії, допустимі значення: 1, 10, 4546, ..."
            filter_by_parent_id:
              value: { parent_id: '4545,4546' }
              summary: "Фільтр за ідентифікатором батьківської категорії, допустимі значення: 1, 10, 4546, ..."
      responses:
        "200":
          description: "Успішна відповідь для запиту. Результат у пагінованому вигляді."
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/PaginatedResponse'
                  - properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Category'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
    post:
      tags:
        - Products
      summary: Створення нової категорії товарів
      description: Даний маршрут створює нову категорію товарів.
      operationId: createNewCategory
      parameters:
        - $ref: '#/components/parameters/acceptParam'
#        - $ref: '#/components/parameters/correlationIdParam'
      requestBody:
        description: Приклад об'єкту запиту для створення нової категорії товарів
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - full_name
              properties:
                name:
                  description: "Назва карегорії"
                  type: string
                  nullable: false
                  example: "Взуття"
                parent_id:
                  description: "Ідентифікатор батьківської категорії, якщо створюєте підкатегорію."
                  type: integer
                  nullable: true
                  example: 1
      responses:
        "201":
          description: Успішна відповідь від сервера.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        "401":
          description: Помилка авторизації.
      security:
        - bearerAuth: [ ]
components:
  parameters:
    acceptParam:
      name: Accept
      in: header
      description: application/json
      required: false
      style: simple
      explode: false
      schema:
        type: string
    correlationIdParam:
      name: X-Correlation-ID
      in: header
      description: "Ідентифікатор запиту"
      required: false
      style: simple
      explode: false
      schema:
        type: string
    pageParam:
      name: page
      in: query
      description: Вкажіть сторінку
      required: false
      style: form
      explode: true
      schema:
        type: integer
        default: 1
    limitParam:
      in: query
      name: limit
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 50
        default: 15
      description: Максимальна кількість елементів у пагінованому списку. Максимум 50.
  schemas:
    Order:
      required:
        - source_id
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор замовлення
          example: 22
        parent_id:
          type: integer
          nullable: true
          description: Ідентифікатор батьківського замовлення
          example: 1
        source_uuid:
          type: string
          nullable: true
          description: Унікальний ідентифікатор замовлення із завантаженого джерела
          example: "4815162342"
        source_id:
          type: integer
          example: 11
          description: Ідентифікатор джерела
        status_id:
          type: integer
          example: 1
          description: Ідентифікатор статусу замовлення
        status_group_id:
          type: integer
          example: 1
          description: Ідентифікатор групи статусу замовлення
        grand_total:
          type: number
          description: Фінальна вартість
          example: 122.50
        promocode:
          type: string
          example: MERRYCHRISTMAS
          description: Промо код
        total_discount:
          type: number
          description: Сума знижки
          example: 30.50
        expenses_sum:
          description: Сума витрат
          type: number
          example: 20.50
        shipping_price:
          description: Вартість доставки
          type: number
          example: 2.50
        wrap_price:
          description: Вартість подарункової упаковки
          type: number
          example: 3.50
        taxes:
          description: Сума податків
          type: number
          example: 2.50
        manager_comment:
          description: Коментар менеджера
          type: string
          nullable: true
          example: null
        buyer_comment:
          description: Коментар клієнта менеджера
          type: string
          nullable: true
          example: "Hello from buyer"
        gift_message:
          description: Вітальне повідомлення
          type: string
          nullable: true
          example: "Happy Birthday Charlie"
        is_gift:
          description: Позначено як подарунок
          type: boolean
          example: true
        payment_status:
          description: Статус оплати
          type: string
          enum: ["not_paid", "part_paid", "paid", "overpaid"]
          example: paid
        last_synced_at:
          type: string
          description: Дата останньої синхронізації із джерелом в UTC форматі
          example: "2020-05-16 17:00:07"
        created_at:
          type: string
          description: Дата створення замовлення в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни замовлення в UTC форматі
          example: "2020-05-16 17:00:07"
        closed_at:
          type: string
          description: Дата закриття замовлення в UTC форматі
          example: "2020-05-16 17:00:07"
    OrderWithIncludes:
      required:
        - source_id
      type: object
      description: "Схема замовлення з усіма доступними асоціаціями"
      properties:
        id:
          type: integer
          description: Ідентифікатор замовлення
          example: 22
        parent_id:
          type: integer
          nullable: true
          description: Ідентифікатор батьківського замовлення
          example: 1
        source_uuid:
          type: string
          nullable: true
          description: Унікальний ідентифікатор замовлення із завантаженого джерела
          example: "4815162342"
        source_id:
          type: integer
          example: 11
          description: Ідентифікатор джерела
        status_id:
          type: integer
          example: 1
          description: Ідентифікатор статусу замовлення
        status_group_id:
          type: integer
          example: 1
          description: Ідентифікатор групи статусу замовлення
        grand_total:
          type: number
          description: Фінальна вартість
          example: 122.50
        promocode:
          type: string
          example: MERRYCHRISTMAS
          description: Промо код
        total_discount:
          type: number
          description: Сума знижки
          example: 30.50
        expenses_sum:
          description: Сума витрат
          type: number
          example: 20.50
        shipping_price:
          description: Вартість доставки
          type: number
          example: 2.50
        wrap_price:
          description: Вартість подарункової упаковки
          type: number
          example: 3.50
        taxes:
          description: Сума податків
          type: number
          example: 2.50
        manager_comment:
          description: Коментар менеджера
          type: string
          nullable: true
          example: null
        buyer_comment:
          description: Коментар клієнта менеджера
          type: string
          nullable: true
          example: "Hello from buyer"
        gift_message:
          description: Вітальне повідомлення
          type: string
          nullable: true
          example: "Happy Birthday Charlie"
        is_gift:
          description: Позначено як подарунок
          type: boolean
          example: true
        payment_status:
          description: Статус оплати
          type: string
          enum: ["not_paid", "part_paid", "paid", "overpaid"]
          example: paid
        last_synced_at:
          type: string
          description: Дата останньої синхронізації із джерелом в UTC форматі
          example: "2020-05-16 17:00:07"
        created_at:
          type: string
          description: Дата створення замовлення в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни замовлення в UTC форматі
          example: "2020-05-16 17:00:07"
        closed_at:
          type: string
          description: Дата закриття замовлення в UTC форматі
          example: "2020-05-16 17:00:07"
        buyer:
          type: object
          description: "Інформація про покупця. Повертається тільки, якщо вказати `include=buyer`"
          properties:
            id:
              description: "ID покупця в KeyCRM"
              type: integer
              nullable: true
              example: 1
            full_name:
              description: "Повне ім'я покупця"
              type: string
              nullable: true
              example: John Doe
            email:
              description: "E-mail покупця"
              type: string
              nullable: true
              example: john.doe@mail.app
            phone:
              description: "Телефон покупця"
              type: string
              nullable: true
              example: "+1 555-234-1234"
            company_id:
              description: "ID компанії зв'язаної с покупцем"
              type: integer
              nullable: true
              example: 112
            manager_id:
              description: "ID менеджера зв'язаного с покупцем"
              type: integer
              nullable: true
              example: 12
        products:
          description: "Товари в замовленні. Повертаються тільки, якщо вказати `include=products.offer`"
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                example: "Iphone XS max 256gb"
                description: "Назва товару"
              sku:
                type: string
                example: "001-242"
                description: "Артикул товару"
              price:
                type: number
                example: 124.50
                description: "Ціна товару за одиницю"
              price_sold:
                type: number
                example: 124.50
                description: "Ціна товару продажу за одиницю"
              purchased_price:
                type: number
                example: 124.50
                description: "Ціна закупівлі товару за одиницю"
              discount_percent:
                type: number
                example: 11.5
                nullable: true
                description: "Знижка на товар у %"
              discount_amount:
                type: number
                example: 9.99
                nullable: true
                description: "Знижка на товар фіксована"
              total_discount:
                type: number
                example: 9.99
                nullable: true
                description: "Сумарна знижка на товар"
              quantity:
                type: integer
                example: 1
                description: "Кількість замовлених одиниць товару"
              upsale:
                type: boolean
                example: true
                description: "Допродаж (так/ні)"
              comment:
                type: string
                example: "Наклеїти плівку"
                description: "Коментар до товару"
              product_status_id:
                type: integer
                example: 2
                description: "ID статусу товару в замовленні"
              picture:
                type: string
                nullable: true
                description: "Посилання на зображеня товару"
                example: "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
              properties:
                required:
                  - name
                  - value
                type: array
                description: "Атрибути товару. <br/> Важливо: Кожен атрибут мае включати в себе поля `name` і `value`. <br/> Атрибут без цих ключів буде ігноруватися "
                items:
                  type: object
                  properties:
                    name:
                      type: string
                      example: Color
                    value:
                      type: string
                      example: Gold
              offer:
                description: "Інформація про товар в каталозі KeyCRM"
                type: object
                properties:
                  id:
                    type: integer
                    description: Ідентифікатор варіанту товару
                    example: 22
                  product_id:
                    type: integer
                    description: Ідентифікатор товару до якого відноситься варіант
                    example: 22
                  sku:
                    description: SKU варіанту товару
                    type: string
                    example: 'sku001'
                  barcode:
                    description: Штрих-код товару
                    type: string
                    example: '11222111211'
                  price:
                    type: number
                    example: 123.50
                    description: Вартість варіанту товару
                  purchased_price:
                    type: number
                    example: 50.50
                    description: Закупівельна вартість варіанту товару
                  quantity:
                    type: integer
                    example: 98
                    description: Загальна кількість залишків
                  weight:
                    type: number
                    example: 12.5
                    description: Вага варіанту товару в системних одиницях
                  length:
                    type: number
                    example: 25.0
                    description: Довжина варіанту товару в системних одиницях
                  width:
                    type: number
                    example: 10.0
                    description: Ширина варіанту товару в системних одиницях
                  height:
                    type: number
                    example: 7.5
                    description: Висота варіанту товару в системних одиницях
                  properties:
                    type: array
                    description: Властивості варіанту товару
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          example: Color
                        value:
                          type: string
                          example: Gol
        manager:
          type: object
          description: "Інформація про менеджера замовлення. Повертається тільки, якщо вказати `include=manager`"
          properties:
            id:
              description: "ID менеджера"
              type: integer
              nullable: true
              example: 1
            first_name:
              description: "Ім'я менеджера"
              type: string
              nullable: true
              example: John
            last_name:
              description: "Прізвище менеджера"
              type: string
              nullable: true
              example: Doe
            full_name:
              description: "Повне ім'я менеджера"
              type: string
              nullable: true
              example: John Doe
            username:
              description: "Логін менеджера"
              type: string
              nullable: true
              example: johndoe
            email:
              description: "E-mail менеджера"
              type: string
              nullable: true
              example: john.doe@mail.app
            phone:
              description: "Телефон менеджера"
              type: string
              nullable: true
              example: "+1 555-234-1234"
            role_id:
              description: "ID ролі менеджера"
              type: integer
              nullable: true
              example: 2
            status:
              description: "Статус менеджера. Можливі варіанти: active або blocked"
              type: string
              nullable: false
              example: active
            created_at:
                type: string
                description: Дата створення в UTC форматі
                example: "2020-05-16 17:00:07"
            updated_at:
                type: string
                description: Дата останньої зміни в UTC форматі
                example: "2020-05-16 17:00:07"
            last_logged_at:
                type: string
                description: Дата останньої логіну в UTC форматі
                example: "2020-05-16 17:00:07"
        tags:
          type: array
          description: "Теги в замовленні. Повертаються тільки, якщо вказати `include=tags`"
          items:
            type: object
            properties:
              id:
                type: integer
                description: Ідентифікатор тегу
              name:
                type: string
                description: Назва
                example: Hot
              alias:
                type: string
                description: Системна назва
                example: hot
              color:
                description: Колір тегу в форматі HEX
                type: string
                example: "#FF0000"
              created_at:
                type: string
                description: Дата створення в UTC форматі
                example: "2020-05-16 17:00:07"
              updated_at:
                type: string
                description: Дата останньої зміни в UTC форматі
                example: "2020-05-16 17:00:07"
        status:
          description: "Інформація про поточний статус замовлення. Повертається тільки, якщо вказати `include=status`"
          type: object
          properties:
            id:
              type: integer
              description: Ідентифікатор статусу
            name:
              type: string
              description: Назва
              example: Hot
            alias:
              type: string
              description: Системна назва
              example: hot
            is_active:
              type: boolean
              description: Стан активності
              example: true
            group_id:
              type: integer
              description: Ідентифікатор групи статусу
              example: 1
            is_closing_order:
              type: boolean
              description: Визначає, чи може замовлення бути відмічене як закрите після присвоения статуса
              example: true
            is_reserved:
              type: boolean
              description: Визначає, чи статус зарезервований і чи може він бути видалений
              example: true
            created_at:
              type: string
              description: Дата створення в UTC форматі
              example: "2020-05-16 16:56:44"
            updated_at:
              type: string
              description: Дата останньої зміни в UTC форматі
              example: "2020-05-16 16:56:44"
        marketing:
          description: "Інформація про UTM-мітки в замовленні. Повертається тільки, якщо вказати `include=marketing`"
          type: object
          properties:
            utm_source:
              type: string
              nullable: true
              example: "facebook"
              description: "Джерело кампанії"
            utm_medium:
              type: string
              nullable: true
              example: "banner"
              description: "Тип трафіку"
            utm_campaign:
              type: string
              nullable: true
              example: "sale"
              description: "Назва кампанії"
            utm_term:
              type: string
              nullable: true
              example: "landing page"
              description: "Ключове слово"
            utm_content:
              type: string
              nullable: true
              example: "-30%"
              description: "Ідентифікатор оголошення"
            created_at:
              type: string
              description: "Дата створення в UTC форматі"
              example: "2020-05-16 16:56:44"
            updated_at:
              type: string
              description: "Дата останньої зміни в UTC форматі"
              example: "2020-05-16 16:56:44"
        payments:
          type: array
          description: "Платежі в замовленні. Повертаються тільки, якщо вказати `include=payments`"
          items:
            type: object
            properties:
              id:
                type: integer
                example: 2233
                description: "ID платежу в KeyCRM"
              destination_id:
                type: integer
                example: 2
                description: "ID замовлення в KeyCRM"
              payment_method_id:
                type: integer
                example: 2
                description: "ID методу платежу в KeyCRM"
              amount:
                type: number
                example: 123.50
                description: "Сума платежу"
              actual_currency:
                type: string
                example: "UAH"
                nullable: true
                description: "Валюта платежу"
              transaction_uuid:
                type: string
                example: "UD12345"
                nullable: true
                description: "ID зовнішньої транзакції зв'язаної з платежем"
              description:
                type: string
                example: "Авансовий платіж"
                nullable: true
                description: "Коментар до платежу"
              status:
                type: string
                enum: [paid, refund, not_paid, canceled]
                example: "paid"
                nullable: true
                description: "Статус оплати"
              payment_date:
                type: string
                nullable: true
                example: "2021-02-21 14:44:00"
                description: "Дата і час платежу"
              created_at:
                type: string
                description: "Дата створення платежу в UTC форматі"
                example: "2020-05-16 17:00:07"
              updated_at:
                type: string
                description: "Дата останньої зміни платежу в UTC форматі"
                example: "2020-05-16 17:00:07"
        shipping:
          description: "Інформація про доставку. Повертається тільки заповнені, якщо вказати `include=shipping`"
          type: object
          properties:
            delivery_service_id:
              type: integer
              nullable: true
              example: 1
              description: "ID служби доставки в KeyCRM"
            tracking_code:
              type: string
              nullable: true
              example: "20450644192161"
              description: "Трекінг-код замовлення"
            shipping_status:
              type: string
              nullable: true
              example: "invoice"
              description: "Статус доставки замовлення"
            shipping_address_city:
              description: "Місто доставки"
              type: string
              nullable: true
              example: "Kyiv"
            shipping_address_country:
              description: "Країна доставки"
              type: string
              nullable: true
              example: "Ukraine"
            shipping_address_country_code:
              description: "Код країни доставки"
              type: string
              nullable: true
              example: "UA"
            shipping_address_region:
              type: string
              nullable: true
              example: "Kyivska"
              description: "Область, штат, регіон"
            shipping_address_zip:
              description: "Індекс"
              type: string
              nullable: true
              example: "50000"
            shipping_secondary_line:
              description: "Додаткова адреса"
              type: string
            shipping_receive_point:
              type: string
              nullable: true
              example: "Склад #12"
              description: "Точка видачі замовлення"
            recipient_full_name:
              type: string
              nullable: true
              example: "Ann Doe"
              description: "Ім'я отримувача (якщо відрізняється від покупця)"
            recipient_phone:
              type: string
              nullable: true
              example: "+1 555-234-7777"
              description: "Номер телефону отримувача (якщо відрізняється від покупця)"
            shipping_date_actual:
                type: string
                description: "Дата доставки / відправки"
                example: "2023-04-21T00:00:00.000000Z"
        expenses:
          type: array
          description: "Витрати в замовленні. Повертаються тільки, якщо вказати `include=expenses`"
          items:
            type: object
            properties:
              id:
                type: integer
                example: 2233
                description: "ID витрати в KeyCRM"
              destination_id:
                type: integer
                example: 2
                description: "ID замовлення в KeyCRM"
              expense_type_id:
                type: integer
                example: 2
                description: "ID типу витрати в KeyCRM"
              amount:
                type: number
                example: 123.50
                description: "Сума витрати"
              actual_currency:
                type: string
                example: "UAH"
                nullable: true
                description: "Валюта витрати"
              transaction_uuid:
                type: string
                example: "UD12345"
                nullable: true
                description: "ID зовнішньої транзакції зв'язаної з витратою"
              description:
                type: string
                example: "Доставка"
                nullable: true
                description: "Коментар до витрати"
              status:
                type: string
                enum: [paid, refund, not_paid, canceled]
                example: "paid"
                nullable: true
                description: "Статус оплати"
              payment_date:
                type: string
                nullable: true
                example: "2021-02-21 14:44:00"
                description: "Дата і час витрати"
              created_at:
                type: string
                description: "Дата створення витрати в UTC форматі"
                example: "2020-05-16 17:00:07"
              updated_at:
                type: string
                description: "Дата останньої зміни витрати в UTC форматі"
                example: "2020-05-16 17:00:07"
        custom_fields:
          type: array
          description: "Користувацькі поля в замовленні. Повертаються тільки заповнені, якщо вказати `include=custom_fields`"
          items:
            type: object
            properties:
              id:
                description: "ID поля в системі"
                type: integer
                example: 123
              uuid:
                description: "Зовнішній ідентифікатор поля"
                type: string
                example: OR_1037
              name:
                description: "Назва поля"
                type: string
                example: Кличка
              type:
                description: "Тип поля. Можливі значення: `link (посилання)`, `select (список/мультисписок)`, `switcher (так/ні)`, `float (число)`, `number (ціле число)`, `textarea (текст)`, `text (рядок)`, `date (дата)`, `datetime (дата і час)`"
                type: string
                example: text
              value:
                description: "Значення поля. Для полів з типом `select (список/мультисписок)` повертається масив рядків."
                type: string
                example: Лорд
    CustomField:
      type: object
      properties:
        id:
          description: "ID поля в системі"
          type: integer
          example: 123
        name:
          description: "Назва поля"
          type: string
          example: Варіанти дизайну
        uuid:
          description: "Зовнішній ідентифікатор поля"
          type: string
          example: OR_1037
        model:
          description: "Сутність до якої відноситься поле. Можливі значення: `order (замовлення)`, `lead (заявка)`, `client (покупець)`, `crm_product (товар)`"
          type: string
          example: order
        type:
          description: "Тип поля. Можливі значення: `link (посилання)`, `select (список/мультисписок)`, `switcher (так/ні)`, `float (число)`, `number (ціле число)`, `textarea (текст)`, `text (рядок)`, `date (дата)`, `datetime (дата і час)`"
          type: string
          example: select
        required:
          description: "Обов'язкове поле (так/ні)"
          type: boolean
          example: true
        position:
          description: "Позиція поля"
          type: integer
          example: 3
        is_multiple:
          description: "Мультисписок (так/ні)"
          type: boolean
          example: true
        options:
          description: "Опції для полів з типом `select (список/мультисписок)`. Для решти типів масив буде пустим."
          type: array
          items:
            type: object
            properties:
              id:
                description: "ID опції"
                type: integer
                example: 12
              field_id:
                description: "ID поля в системі до якого відноситься опція"
                type: integer
                example: 2
              value:
                description: "Назва опції"
                type: string
                example: Варіант А
    Payment:
      required:
        - amount
        - payment_method_id
      type: object
      properties:
        payment_method_id:
          type: integer
          example: 2
          description: "ID методу платежу у KeyCRM"
        payment_method:
          $ref: '#/components/schemas/PaymentMethod'
        amount:
          type: number
          example: 123.50
          description: "Сума платежу"
        description:
          type: string
          example: "Авансовий платіж"
          nullable: true
          description: "Коментар до платежу"
        payment_date:
          type: string
          nullable: true
          example: "2021-02-21 14:44:00"
          description: "Дата і час платежу"
        status:
          type: string
          enum: [paid, refund, not_paid, canceled]
          example: "paid"
          nullable: true
          description: "Статус оплати"
        created_at:
          type: string
          description: "Дата створення платежу в UTC форматі"
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: "Дата останньої зміни платежу в UTC форматі"
          example: "2020-05-16 17:00:07"
    Expense:
      required:
        - amount
        - expense_type_id
      type: object
      properties:
        expense_type_id:
          type: integer
          example: 1
          description: "ID типу витрати у KeyCRM"
        expense_type:
          $ref: '#/components/schemas/ExpenseType'
        amount:
          type: number
          example: 123.50
          description: "Сума витрати"
        description:
          type: string
          example: "Кур'єрська доставка"
          nullable: true
          description: "Коментар до витрати"
        payment_date:
          type: string
          nullable: true
          example: "2021-02-21 14:44:00"
          description: "Дата і час витрати"
        status:
          type: string
          enum: [paid, canceled]
          example: "paid"
          nullable: true
          description: "Статус оплати"
        created_at:
          type: string
          description: "Дата створення витрати в UTC форматі"
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: "Дата останньої зміни витрати в UTC форматі"
          example: "2020-05-16 17:00:07"
    PaymentMethod:
      required:
        - id
        - name
      type: object
      properties:
        id:
          type: integer
          example: 2
          description: "ID методу платежу у KeyCRM"
        name:
          type: string
          example: "Apple Pay"
          nullable: true
          description: "Назва методу платежу"
        alias:
          type: string
          example: "apple_pay"
          nullable: true
        is_active:
          type: boolean
          example: true
          description: "Статус методу платежу"
        created_at:
          type: string
          description: "Дата створення в UTC форматі"
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: "Дата останньої зміни в UTC форматі"
          example: "2020-05-16 17:00:07"
    ExpenseType:
      required:
        - id
        - name
      type: object
      properties:
        id:
          type: integer
          example: 2
          description: "ID типу витрати у KeyCRM"
        name:
          type: string
          example: "Даставка"
          nullable: true
          description: "Назва типу витрати"
        alias:
          type: string
          example: "delivery"
          nullable: true
        is_active:
          type: boolean
          example: true
          description: "Статус типу витрати"
        is_reserved:
          type: boolean
          example: true
          description: "Зарезервовано системою"
        by_order:
          type: boolean
          example: true
          description: "Чи використовувати цей тип витрати для замовлень?"
        created_at:
          type: string
          description: "Дата створення в UTC форматі"
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: "Дата останньої зміни в UTC форматі"
          example: "2020-05-16 17:00:07"
    DeliveryService:
      required:
        - id
        - name
        - alias
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор служби доставки
        name:
          type: string
          description: Назва служби доставки
          example: UPS
        alias:
          type: string
          description: Системна назва
          example: ups
    Tag:
      required:
        - id
        - name
        - alias
        - color
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор тегу
        name:
          type: string
          description: Назва
          example: Hot
        alias:
          type: string
          description: Системна назва
          example: hot
        color:
          description: Колір тегу в форматі HEX
          type: string
          example: "#FF0000"
        created_at:
          type: string
          description: Дата створення в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни в UTC форматі
          example: "2020-05-16 17:00:07"
    Status:
      required:
        - id
        - name
        - alias
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор статусу
        name:
          type: string
          description: Назва
          example: Hot
        alias:
          type: string
          description: Системна назва
          example: hot
        is_active:
          type: boolean
          description: Стан активності
          example: true
        group_id:
          type: integer
          description: Ідентифікатор групи статусу
          example: 1
        is_closing_order:
          type: boolean
          description: Визначає, чи може замовлення бути відмічене як закрите після присвоения статуса
          example: true
        is_reserved:
          type: boolean
          description: Визначає, чи статус зарезервований і чи може він бути видалений
          example: true
        created_at:
          type: string
          description: Дата створення в UTC форматі
          example: "2020-05-16 16:56:44"
        updated_at:
          type: string
          description: Дата останньої зміни в UTC форматі
          example: "2020-05-16 16:56:44"
    Marketing:
      type: object
      properties:
        utm_source:
          type: string
          nullable: true
          example: "facebook"
          description: "Джерело кампанії"
        utm_medium:
          type: string
          nullable: true
          example: "banner"
          description: "Тип трафіку"
        utm_campaign:
          type: string
          nullable: true
          example: "sale"
          description: "Назва кампанії"
        utm_term:
          type: string
          nullable: true
          example: "landing page"
          description: "Ключове слово"
        utm_content:
          type: string
          nullable: true
          example: "-30%"
          description: "Ідентифікатор оголошення"
        created_at:
          type: string
          description: Дата створення в UTC форматі
          example: "2020-05-16 16:56:44"
        updated_at:
          type: string
          description: Дата останньої зміни в UTC форматі
          example: "2020-05-16 16:56:44"
    Source:
      required:
        - id
        - name
        - alias
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор джерела
        name:
          type: string
          description: Назва
          example: My shop source
        alias:
          type: string
          description: Системна назва
          example: my_shop_source
        driver:
          type: string
          description: Тип джерела
          example: etsy
        source_uuid:
          type: string
          nullable: true
          description: Унікальний ідентифікатор магазину із джерела
          example: 18960006
        source_name:
          type: string
          nullable: true
          description: Назва магазину із джерела
          example: "Coll shop"
        currency_code:
          type: string
          description: Валюта за замовчуванням
          example: "USD"
        created_at:
          type: string
          description: Дата створення в UTC форматі
          example: "2020-05-16 16:56:44"
        updated_at:
          type: string
          description: Дата останньої зміни в UTC форматі
          example: "2020-05-16 16:56:44"
    File:
      required:
        - id
        - name
        - alias
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор файлу в системі
        file_name:
          type: string
          description: Шифрована назва завантаженого файлу
          example: 6XTec5rSOzA5c9yi7LShrJ8sRwsOHvqc.jpeg
        url:
          type: string
          example: https://openapi.keycrm.app/storage/comany-name/6XTec5rSOzA5c9yi7LShrJ8sRwsOHvqc.jpeg
        size:
          type: integer
          description: Розмір завантаженого файлу в байтах
          example: 563263
        extension:
          type: string
          description: Розширення файлу
          example: "png"
        original_file_name:
          type: string
          description: Оригінальна назва завантаженого файлу
          example: my-image.png
        mime_type:
          type: string
          description: MIME-тип завантаженого файлу
          example: image/png
        created_at:
          type: string
          description: Дата створення в UTC форматі
          example: "2020-05-16 16:56:44"
        updated_at:
          type: string
          description: Дата останньої зміни в UTC форматі
          example: "2020-05-16 16:56:44"
    PipelineCard:
      type: object
      required:
        - contact_id
      properties:
        id:
          type: integer
          description: Ідентифікатор картки воронки
          example: 22
        contact_id:
          type: integer
          example: 1
          description: Ідентифікатор контактної особи картки воронки
        source_id:
          type: integer
          example: 11
          nullable: true
          description: Ідентифікатор джерела
        manager_id:
          type: integer
          example: 11
          nullable: true
          description: Ідентифікатор відповідального менеджера
        status_id:
          type: integer
          example: 1
          description: Ідентифікатор статусу картки воронки
        title:
          description: Назва картки воронки
          type: string
          nullable: true
          example: №11011
        manager_comment:
          description: Коментар менеджера
          type: string
          nullable: true
          example: 'From facebook'
        is_finished:
          description: Ідентифікатор закриття картки воронки
          type: string
          nullable: true
          example: 'From facebook'
        status_changed_at:
          type: string
          description: Дата зміни статусу картки воронки в UTC форматі
          example: "2020-05-16 17:00:07"
        communicate_at:
          type: string
          description: Дата і час планованого контакту по картці воронки у UTC форматі
          example: "2020-05-16 17:00:07"
        created_at:
          type: string
          description: Дата створення картки воронки в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни картки воронки в UTC форматі
          example: "2020-05-16 17:00:07"
    Pipeline:
      type: object
      properties:
        id:
          type: integer
          example: 1
          description: Ідентифікатор воронки
        name:
          type: string
          description: Назва воронки
          example: "Лендінги"
        target_type:
          type: string
          example: "lead_pipeline"
        target_id:
          type: string
          example: 2
        use_payments:
          type: boolean
          example: true
        lead_type:
          type: string
          example: "request"
    PipelineStatuses:
      type: object
      properties:
        id:
          type: integer
          example: 1
          description: Ідентифікатор статусу
        pipeline_id:
          type: integer
          example: 1
          description: Ідентифікатор воронки
        title:
          type: string
          description: Назва статусу
          example: "Новий"
        alias:
          type: string
          description: Аліас статусу
          example: "new"
        color:
          type: string
          description: Колір статусу у HEX-кодуванні
          example: "#69DB7C"
        is_final:
          type: boolean
          example: "false"
        leads_count:
          type: integer
          description: Кількість воронок
          example: 16
    PipelineCardWithIncludes:
      required:
        - source_id
      type: object
      description: "Схема картки воронки з усіма доступними асоціаціями"
      properties:
        id:
          type: integer
          description: Ідентифікатор картки воронки
          example: 22
        contact_id:
          type: integer
          example: 1
          description: Ідентифікатор контактної особи картки воронки
        source_id:
          type: integer
          example: 11
          nullable: true
          description: Ідентифікатор джерела
        manager_id:
          type: integer
          example: 11
          nullable: true
          description: Ідентифікатор відповідального менеджера
        status_id:
          type: integer
          example: 1
          description: Ідентифікатор статусу картки воронки
        title:
          description: Назва картки воронки
          type: string
          nullable: true
          example: №11011
        manager_comment:
          description: Коментар менеджера
          type: string
          nullable: true
          example: 'From facebook'
        utm_source:
          type: string
          nullable: true
          example: "facebook"
          description: "Джерело кампанії"
        utm_medium:
          type: string
          nullable: true
          example: "banner"
          description: "Тип трафіку"
        utm_campaign:
          type: string
          nullable: true
          example: "sale"
          description: "Назва кампанії"
        utm_term:
          type: string
          nullable: true
          example: "landing page"
          description: "Ключове слово"
        utm_content:
          type: string
          nullable: true
          example: "-30%"
          description: "Ідентифікатор оголошення"
        is_finished:
          description: Ідентифікатор закриття картки воронки
          type: string
          nullable: true
          example: 'From facebook'
        status_changed_at:
          type: string
          description: Дата зміни статусу картки воронки в UTC форматі
          example: "2020-05-16 17:00:07"
        communicate_at:
          type: string
          description: Дата і час планованого контакту по картці воронки у UTC форматі
          example: "2020-05-16 17:00:07"
        created_at:
          type: string
          description: Дата створення картки воронки в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни картки воронки в UTC форматі
          example: "2020-05-16 17:00:07"
        contact:
          type: object
          properties:
            id:
              description: "ID контакту"
              type: integer
              nullable: true
              example: 1
            full_name:
              type: string
              nullable: true
              example: "John Doe"
            email:
              type: string
              nullable: true
              example: null
            phone:
              type: string
              nullable: true
              example: null
            picture:
              type: string
              nullable: true
              example: null
              description: "Посилання на зображеня контакту"
            additional_details:
              type: array
              items:
                type: string
              nullable: true
              description: "Додаткові деталі контакту"
            client_id:
              type: integer
              nullable: true
              example: 1
              description: "ID кліента"
            social_name:
              type: string
              example: "telegram"
            social_id:
              type: string
              example: "@john_doe"
            created_at:
              type: string
              description: "Дата створення в UTC форматі"
              example: "2020-05-16 17:00:07"
            updated_at:
              type: string
              description: "Дата останньої зміни в UTC форматі"
              example: "2020-05-16 17:00:07"
            client:
              type: object
              nullable: true
              description: "Клієнт з яким асоційований контакт"
              properties:
                id:
                  description: "ID кліента"
                  type: integer
                  nullable: true
                  example: 1
                company_id:
                  description: "ID компанії"
                  type: integer
                  nullable: true
                  example: 1
                full_name:
                  type: string
                  description: "Ім'я кліента"
                  example: "John Doe"
                phone:
                  type: string
                  nullable: true
                  description: "Телефон менеджера"
                  example: "+1 555-234-1234"
                formatted_phone:
                  type: string
                  nullable: true
                  example: null
                additional_phone:
                  type: string
                  nullable: true
                  example: null
                email:
                  type: string
                  nullable: true
                  description: "E-mail кліента"
                  example: john.doe@mail.app
                note:
                  type: string
                  nullable: true
                  example: null
                picture:
                  type: string
                  nullable: true
                  example: null
                image:
                  type: string
                  nullable: true
                  example: null
                currency:
                  type: string
                  description: "Валюта"
                  example: "UAH"
                orders_sum:
                  type: string
                  description: "Сума всіх замовлень"
                  example: "90247.69"
                orders_count:
                  type: integer
                  description: "Кількість замовлень"
                  example: "28"
                has_duplicates:
                  type: integer
                  example: 0
                manager_id:
                  type: integer
                  nullable: true
                  description: "Ідентифікатор відповідального менеджера"
                  example: null
                created_at:
                  type: string
                  description: "Дата створення в UTC форматі"
                  example: "2020-05-16 17:00:07"
                updated_at:
                  type: string
                  description: "Дата останньої зміни в UTC форматі"
                  example: "2020-05-16 17:00:07"
        products:
          description: "Товари в картці воронки. Повертаються тільки, якщо вказати `include=products`"
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                example: "Iphone XS max 256gb"
                description: "Назва товару"
              sku:
                type: string
                example: "001-242"
                description: "Артикул товару"
              price:
                type: number
                example: 124.50
                description: "Ціна товару за одиницю"
              quantity:
                type: integer
                example: 1
                description: "Кількість одиниць товару"
              picture:
                type: string
                nullable: true
                description: "Посилання на зображеня товару"
                example: "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
        manager:
          type: object
          description: "Інформація про менеджера картки воронки. Повертається тільки, якщо вказати `include=manager`"
          properties:
            id:
              description: "ID менеджера"
              type: integer
              nullable: true
              example: 1
            first_name:
              description: "Ім'я менеджера"
              type: string
              nullable: true
              example: John
            last_name:
              description: "Прізвище менеджера"
              type: string
              nullable: true
              example: Doe
            full_name:
              description: "Повне ім'я менеджера"
              type: string
              nullable: true
              example: John Doe
            username:
              description: "Логін менеджера"
              type: string
              nullable: true
              example: johndoe
            email:
              description: "E-mail менеджера"
              type: string
              nullable: true
              example: john.doe@mail.app
            phone:
              description: "Телефон менеджера"
              type: string
              nullable: true
              example: "+1 555-234-1234"
            role_id:
              description: "ID ролі менеджера"
              type: integer
              nullable: true
              example: 2
            status:
              description: "Статус менеджера. Можливі варіанти: active або blocked"
              type: string
              nullable: false
              example: active
            created_at:
              type: string
              description: Дата створення в UTC форматі
              example: "2020-05-16 17:00:07"
            updated_at:
              type: string
              description: Дата останньої зміни в UTC форматі
              example: "2020-05-16 17:00:07"
            last_logged_at:
              type: string
              description: Дата останньої логіну в UTC форматі
              example: "2020-05-16 17:00:07"
        status:
          description: "Інформація про поточний статус картки воронки. Повертається тільки, якщо вказати `include=status`"
          type: object
          properties:
            id:
              type: integer
              description: Ідентифікатор статусу
            name:
              type: string
              description: Назва
              example: Hot
            alias:
              type: string
              description: Системна назва
              example: hot
            is_active:
              type: boolean
              description: Стан активності
              example: true
            pipeline_id:
              type: integer
              description: Ідентифікатор воронки
              example: 1
            created_at:
              type: string
              description: Дата створення в UTC форматі
              example: "2020-05-16 16:56:44"
            updated_at:
              type: string
              description: Дата останньої зміни в UTC форматі
              example: "2020-05-16 16:56:44"
        payments:
          type: array
          description: "Платежі в замовленні. Повертаються тільки, якщо вказати `include=payments`"
          items:
            type: object
            properties:
              id:
                type: integer
                example: 2233
                description: "ID платежу в KeyCRM"
              payment_method_id:
                type: integer
                example: 2
                description: "ID методу платежу в KeyCRM"
              amount:
                type: number
                example: 123.50
                description: "Сума платежу"
              actual_currency:
                type: string
                example: "UAH"
                nullable: true
                description: "Валюта платежу"
              transaction_uuid:
                type: string
                example: "UD12345"
                nullable: true
                description: "ID зовнішньої транзакції зв'язаної з платежем"
              description:
                type: string
                example: "Авансовий платіж"
                nullable: true
                description: "Коментар до платежу"
              status:
                type: string
                enum: [ paid, refund, not_paid, canceled ]
                example: "paid"
                nullable: true
                description: "Статус оплати"
              payment_date:
                type: string
                nullable: true
                example: "2021-02-21 14:44:00"
                description: "Дата і час платежу"
              created_at:
                type: string
                description: "Дата створення платежу в UTC форматі"
                example: "2020-05-16 17:00:07"
              updated_at:
                type: string
                description: "Дата останньої зміни платежу в UTC форматі"
                example: "2020-05-16 17:00:07"
        custom_fields:
          type: array
          description: "Користувацькі поля в картці воронки. Повертаються тільки заповнені, якщо вказати `include=custom_fields`"
          items:
            type: object
            properties:
              id:
                description: "ID поля в системі"
                type: integer
                example: 123
              uuid:
                description: "Зовнішній ідентифікатор поля"
                type: string
                example: OR_1037
              name:
                description: "Назва поля"
                type: string
                example: Кличка
              type:
                description: "Тип поля. Можливі значення: `link (посилання)`, `select (список/мультисписок)`, `switcher (так/ні)`, `float (число)`, `number (ціле число)`, `textarea (текст)`, `text (рядок)`, `date (дата)`, `datetime (дата і час)`"
                type: string
                example: text
              value:
                description: "Значення поля. Для полів з типом `select (список/мультисписок)` повертається масив рядків."
                type: string
                example: Лорд
    Product:
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор товару
        name:
          type: string
          description: Назва товару
          example: "Iphone XS max 256gb"
        description:
          type: string
          description: Опис товару
          example: "Ущільнена тканина, дві ручки, основне відділення та золотиста фурнітура."
        thumbnail_url:
          description: Зображення товару
          type: string
          example: "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
        quantity:
          description: Загальні залишки по всіх варіантах товару
          type: number
          example: 124
        currency_code:
          type: string
          description: Валюта товару
          example: "UAH"
        sku:
          type: string
          description: Артикул товару
          example: "001-242"
        min_price:
          description: Мінімальна вартість варіантів товару
          type: number
          example: 124.50
        max_price:
          description: Максимальна вартість варіантів товару
          type: number
          example: 124.50
        weight:
          type: number
          example: 12.5
          description: Вага товару за замовчуванням
        length:
          type: number
          example: 25.0
          description: Довжина товару за замовчуванням
        width:
          type: number
          example: 10.0
          description: Ширина товару за замовчуванням
        height:
          type: number
          example: 7.5
          description: Висота товару за замовчуванням в системних одиницях
        has_offers:
          type: boolean
          example: true
          description: Чи є у товару варіанти
        is_archived:
          type: boolean
          example: false
          description: Чи товар архівний
        category_id:
          type: number
          example: 1
          description: ID категорії товару
        created_at:
          type: string
          description: Дата створення в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни в UTC форматі
          example: "2020-05-16 17:00:07"
    ProductWithIncludes:
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор товару
        name:
          type: string
          description: Назва товару
          example: "Iphone XS max 256gb"
        sku:
          type: string
          description: "Артикул товару. Повертається тільки якщо у товару немає варіантів (`has_offers == false`)."
          example: "001-242"
        barcode:
          type: string
          description: "Штрихкод товару. Повертається тільки якщо у товару немає варіантів (`has_offers == false`)."
          example: "001-242"
        price:
          description: "Вартість товару. Повертається тільки якщо у товару немає варіантів (`has_offers == false`)."
          type: number
          example: 124.50
        purchased_price:
          description: "Закупівельна вартість товару. Повертається тільки якщо у товару немає варіантів (`has_offers == false`)."
          type: number
          example: 124.50
        description:
          type: string
          description: Опис товару
          example: "Ущільнена тканина, дві ручки, основне відділення та золотиста фурнітура."
        thumbnail_url:
          description: Зображення товару
          type: string
          example: "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
        quantity:
          description: "Загальні залишки по товару, або по всіх варіантах товару, якщо вони є."
          type: number
          example: 124
        currency_code:
          type: string
          description: Валюта товару
          example: "UAH"
        min_price:
          description: "Мінімальна вартість варіантів товару. Якщо товар без варіантів (`has_offers == false`), то буде дорівнювати вартості товару."
          type: number
          example: 124.50
        max_price:
          description: "Максимальна вартість варіантів товару. Якщо товар без варіантів (`has_offers == false`), то буде дорівнювати вартості товару."
          type: number
          example: 124.50
        weight:
          type: number
          example: 12.5
          description: Вага товару за замовчуванням
        length:
          type: number
          example: 25.0
          description: Довжина товару за замовчуванням
        width:
          type: number
          example: 10.0
          description: Ширина товару за замовчуванням
        height:
          type: number
          example: 7.5
          description: Висота товару за замовчуванням в системних одиницях
        has_offers:
          type: boolean
          example: false
          description: "Ознака наявності варіантів у товару. Якщо `true`, то інформацію по варіантам можна отримати окремим запитом `GET /offers` вказавши в `filter[product_id]` ID товару."
        is_archived:
          type: boolean
          example: false
          description: Чи товар архівний
        category_id:
          type: number
          example: 1
          description: ID категорії товару
        created_at:
          type: string
          description: Дата створення в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни в UTC форматі
          example: "2020-05-16 17:00:07"
        custom_fields:
          type: array
          description: "Користувацькі поля в товарі. Повертаються тільки заповнені, якщо вказати `include=custom_fields`"
          items:
            type: object
            properties:
              id:
                description: "ID поля в системі"
                type: integer
                example: 123
              uuid:
                description: "Зовнішній ідентифікатор поля"
                type: string
                example: OR_1037
              name:
                description: "Назва поля"
                type: string
                example: Кличка
              type:
                description: "Тип поля. Можливі значення: `link (посилання)`, `select (список/мультисписок)`, `switcher (так/ні)`, `float (число)`, `number (ціле число)`, `textarea (текст)`, `text (рядок)`, `date (дата)`, `datetime (дата і час)`"
                type: string
                example: text
              value:
                description: "Значення поля. Для полів з типом `select (список/мультисписок)` повертається масив рядків."
                type: string
                example: Лорд
    ProductOffer:
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор товару
        name:
          type: string
          description: Назва товару
          example: "Iphone XS max 256gb"
        description:
          type: string
          description: Опис товару
          example: "Ущільнена тканина, дві ручки, основне відділення та золотиста фурнітура."
        thumbnail_url:
          description: Зображення товару
          type: string
          example: "https://i.etsystatic.com/22591342/r/il/52142a/2285383547/il_570xN.2285383547_h8a2.jpg"
        quantity:
          description: Загальні залишки по всіх варіантах товару
          type: number
          example: 124
        currency_code:
          type: string
          description: Валюта товару
          example: "UAH"
        sku:
          type: string
          description: Артикул товару
          example: "001-242"
        min_price:
          description: Мінімальна вартість варіантів товару
          type: number
          example: 124.50
        max_price:
          description: Максимальна вартість варіантів товару
          type: number
          example: 124.50
        weight:
          type: number
          example: 12.5
          description: Вага товару за замовчуванням
        length:
          type: number
          example: 25.0
          description: Довжина товару за замовчуванням
        width:
          type: number
          example: 10.0
          description: Ширина товару за замовчуванням
        height:
          type: number
          example: 7.5
          description: Висота товару за замовчуванням в системних одиницях
        has_offers:
          type: boolean
          example: true
          description: Чи є у товару варіанти
        is_archived:
          type: boolean
          example: false
          description: Чи товар архівний
        properties_agg:
          type: object
          description: Об'єкт з усіма властивостями товару
          properties:
            "Назва властивості":
              type: array
              description: Масив зі значеннями властивості
              items:
                type: string
              example: ["S", "M"]
        category_id:
          type: number
          example: 1
          description: ID категорії товару
        created_at:
          type: string
          description: Дата створення в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни в UTC форматі
          example: "2020-05-16 17:00:07"
    Offer:
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор варіанту товару
          example: 22
        product_id:
          type: integer
          description: Ідентифікатор товару до якого відноситься варіант
          example: 22
        sku:
          description: SKU варіанту товару
          type: string
          example: 'sku001'
        barcode:
          description: Штрих-код товару
          type: string
          example: '11222111211'
        price:
          type: number
          example: 123.50
          description: Вартість варіанту товару
        purchased_price:
          type: number
          example: 50.50
          description: Закупівельна вартість варіанту товару
        quantity:
          type: integer
          example: 98
          description: Загальна кількість залишків
        weight:
          type: number
          example: 12.5
          description: Вага варіанту товару в системних одиницях
        length:
          type: number
          example: 25.0
          description: Довжина варіанту товару в системних одиницях
        width:
          type: number
          example: 10.0
          description: Ширина варіанту товару в системних одиницях
        height:
          type: number
          example: 7.5
          description: Висота варіанту товару в системних одиницях
        properties:
          type: array
          description: Властивості варіанту товару
          items:
            type: object
            properties:
              name:
                type: string
                example: Color
              value:
                type: string
                example: Gol
        product:
          description: "Інформація про товар якому належить варіант. Приходить тільки якщо вказати `include=product`"
          allOf:
            - $ref: '#/components/schemas/ProductOffer'
    OfferStocks:
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор варіанту товару
          example: 22
        sku:
          description: SKU варіанту товару
          type: string
          example: 'sku001'
        price:
          type: number
          example: 123.50
          description: Вартість варіанту товару
        purchased_price:
          type: number
          example: 50.50
          description: Закупівельна вартість варіанту товару
        quantity:
          type: integer
          example: 98
          description: Загальна кількість залишків
        reserve:
          type: integer
          example: 8
          description: Загальна кількість зарезервованих залишків
        warehouse:
          type: array
          description: "Інформація по складам з залишками. Приходить тільки якщо вказати `filter[details]=true`"
          items:
            $ref: '#/components/schemas/Warehouse'
    Warehouse:
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор складу
          example: 22
        name:
          description: Назва складу
          type: string
          example: 'Основний'
        quantity:
          type: integer
          example: 98
          description: Кількість залишків на складі
        reserve:
          type: integer
          example: 8
          description: Кількість зарезервованих залишків на складі
    PaginatedResponse:
      type: object
      properties:
        total:
          type: integer
          description: Кількість знайдених елементів у запиті
          example: 100
        current_page:
          type: integer
          example: 1
        per_page:
          type: integer
          description: Кількість елементів у масиві для кожного запиту
          example: 15
        data:
          type: array
          description: Масив об'ектів у відповіді від сервера
          items: {}
        first_page_url:
          type: string
          example: https://openapi.keycrm.app/{current_path}?page=1
        last_page_url:
          type: string
          example: https://openapi.keycrm.app/{current_path}?page=5
        next_page_url:
          type: string
          example: https://openapi.keycrm.app/{current_path}?page=2
    BuyerWithIncludes:
      required:
        - full_name
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор покупця
          example: 22
        full_name:
          type: string
          nullable: false
          example: "John Doe"
        email:
          type: array
          nullable: true
          items:
            type: string
          example: [
            "john.doe@mail.app",
            "john.doe2@mail.app"
          ]
        phone:
          type: array
          nullable: true
          items:
            type: string
          example: [
            "+1 555-234-1234",
            "+1 555-234-7777"
          ]
        note:
          type: string
          nullable: true
          example: "Примітка"
        company:
          type: object
          description: "Інформація про компанію покупця. Повертається тільки, якщо вказати `include=company`"
          properties:
            id:
              description: "ID компанії"
              type: integer
              nullable: false
              example: 1
            name:
              description: "Назва компанії"
              type: string
              nullable: false
              example: Keycrm
            full_name:
              description: "Пона назва компанії"
              type: string
              nullable: true
              example: ТОВ Кейцрм
            address:
              description: "Адресса компанії"
              type: string
              nullable: true
              example: ТОВ Кейцрм
            banking_detailse:
              description: "Банківскі деталі"
              type: string
              nullable: true
              example: UA123456789101112
            note:
              type: string
              nullable: true
              example: "Примітка"
            created_at:
              type: string
              description: Дата створення покупця в UTC форматі
              example: "2020-05-16 17:00:07"
            updated_at:
              type: string
              description: Дата останньої зміни покупця в UTC форматі
              example: "2020-05-16 17:00:07"
        manager:
          type: object
          description: "Інформація про менеджера покупця. Повертається тільки, якщо вказати `include=manager`"
          properties:
            id:
              description: "ID менеджера"
              type: integer
              nullable: false
              example: 1
            first_name:
              description: "Ім'я менеджера"
              type: string
              nullable: false
              example: John
            last_name:
              description: "Прізвище менеджера"
              type: string
              nullable: true
              example: Doe
            full_name:
              description: "Повне ім'я менеджера"
              type: string
              nullable: true
              example: John Doe
            username:
              description: "Логін менеджера"
              type: string
              nullable: true
              example: johndoe
            email:
              description: "E-mail менеджера"
              type: string
              nullable: true
              example: john.doe@mail.app
            phone:
              description: "Телефон менеджера"
              type: string
              nullable: true
              example: "+1 555-234-1234"
            role_id:
              description: "ID ролі менеджера"
              type: integer
              nullable: true
              example: 2
            status:
              description: "Статус менеджера. Можливі варіанти: active або blocked"
              type: string
              nullable: false
              example: active
            created_at:
              type: string
              description: Дата створення в UTC форматі
              example: "2020-05-16 17:00:07"
            updated_at:
              type: string
              description: Дата останньої зміни в UTC форматі
              example: "2020-05-16 17:00:07"
            last_logged_at:
              type: string
              description: Дата останньої логіну в UTC форматі
              example: "2020-05-16 17:00:07"
        shipping:
          description: "Інформація про адреси доставки. Повертається тільки заповнені, якщо вказати `include=shipping`"
          type: array
          items:
            type: object
            properties:
              address:
                type: string
                nullable: true
                description: "Адреса доставки"
              additional_address:
                type: string
              city:
                description: "Місто доставки"
                type: string
                nullable: true
                example: "Kyiv"
              region:
                type: string
                nullable: true
                example: "Kyivska"
                description: "Область, штат, регіон"
              zip_code:
                type: string
                nullable: true
                example: "50000"
                description: "Індекс"
              country:
                type: string
                nullable: true
                example: "Ukraine"
                description: "Країна доставки"
              recipient_full_name:
                type: string
                nullable: true
                example: "Ann Doe"
                description: "Ім'я отримувача (якщо відрізняється від покупця)"
              recipient_phone:
                type: string
                nullable: true
                example: "+1 555-234-7777"
                description: "Номер телефону отримувача (якщо відрізняється від покупця)"
              warehouse_ref:
                type: string
                nullable: true
                example: "1ec09d2e-e1c2-11e3-8c4a-0050568002cf"
                description: UUID складу Нової Пошти (обов'язково з параметром delivery_service_id - ID служби доставки НП в СРМ)
        custom_fields:
          type: array
          description: "Користувацькі поля для покупця"
          items:
            type: object
            properties:
              uuid:
                description: "Зовнішній ідентифікатор поля"
                type: string
                example: OR_1037
              value:
                description: "Значення поля. Для полів з типом `select (список/мультисписок)` передавати масив рядків."
                type: string
                example: Лорд
        created_at:
          type: string
          description: Дата створення покупця в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни покупця в UTC форматі
          example: "2020-05-16 17:00:07"
    Category:
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор категорії
          example: 1
        name:
          type: string
          nullable: false
          example: "Взуття"
          description: Назва категорії
        parent_id:
          type: number
          example: 1
          description: "Ідентифікатор батькіскької категорії. Для кореневих категорій буде `null`."
    Buyer:
      required:
        - full_name
      type: object
      properties:
        id:
          type: integer
          description: Ідентифікатор покупця
          example: 22
        full_name:
          type: string
          nullable: false
          example: "John Doe"
        email:
          type: array
          nullable: true
          items:
            type: string
          example: [
            "john.doe@mail.app",
            "john.doe2@mail.app"
          ]
        phone:
          type: array
          nullable: true
          items:
            type: string
          example: [
            "+1 555-234-1234",
            "+1 555-234-7777"
          ]
        note:
          type: string
          nullable: true
          example: "Примітка"
        created_at:
          type: string
          description: Дата створення покупця в UTC форматі
          example: "2020-05-16 17:00:07"
        updated_at:
          type: string
          description: Дата останньої зміни покупця в UTC форматі
          example: "2020-05-16 17:00:07"
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
